{
  "version": 4,
  "terraform_version": "0.13.0",
  "serial": 1542,
  "lineage": "33f1e25c-0a93-21c5-bcff-114f3e3a37e6",
  "outputs": {},
  "resources": [
    {
      "mode": "data",
      "type": "aws_ami",
      "name": "ubuntu_ami",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "architecture": "x86_64",
            "block_device_mappings": [
              {
                "device_name": "/dev/sda1",
                "ebs": {
                  "delete_on_termination": "true",
                  "encrypted": "false",
                  "iops": "0",
                  "snapshot_id": "snap-0ef43a0c57336518e",
                  "volume_size": "8",
                  "volume_type": "gp2"
                },
                "no_device": "",
                "virtual_name": ""
              },
              {
                "device_name": "/dev/sdb",
                "ebs": {},
                "no_device": "",
                "virtual_name": "ephemeral0"
              },
              {
                "device_name": "/dev/sdc",
                "ebs": {},
                "no_device": "",
                "virtual_name": "ephemeral1"
              }
            ],
            "creation_date": "2019-11-11T13:13:04.000Z",
            "description": "Canonical, Ubuntu, 14.04 LTS, amd64 trusty image build on 2019-11-07",
            "executable_users": null,
            "filter": [
              {
                "name": "name",
                "values": [
                  "ubuntu/images/hvm-ssd/ubuntu-trusty-14.04-amd64-server-*"
                ]
              },
              {
                "name": "virtualization-type",
                "values": [
                  "hvm"
                ]
              }
            ],
            "hypervisor": "xen",
            "id": "ami-0caee806a0c3782c4",
            "image_id": "ami-0caee806a0c3782c4",
            "image_location": "099720109477/ubuntu/images/hvm-ssd/ubuntu-trusty-14.04-amd64-server-20191107",
            "image_owner_alias": null,
            "image_type": "machine",
            "kernel_id": null,
            "most_recent": true,
            "name": "ubuntu/images/hvm-ssd/ubuntu-trusty-14.04-amd64-server-20191107",
            "name_regex": null,
            "owner_id": "099720109477",
            "owners": [
              "099720109477"
            ],
            "platform": null,
            "product_codes": [],
            "public": true,
            "ramdisk_id": null,
            "root_device_name": "/dev/sda1",
            "root_device_type": "ebs",
            "root_snapshot_id": "snap-0ef43a0c57336518e",
            "sriov_net_support": "simple",
            "state": "available",
            "state_reason": {
              "code": "UNSET",
              "message": "UNSET"
            },
            "tags": {},
            "virtualization_type": "hvm"
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_availability_zones",
      "name": "azs",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "all_availability_zones": null,
            "blacklisted_names": null,
            "blacklisted_zone_ids": null,
            "filter": null,
            "group_names": [
              "ap-southeast-2"
            ],
            "id": "2020-08-19 23:30:38.9753092 +0000 UTC",
            "names": [
              "ap-southeast-2a",
              "ap-southeast-2b",
              "ap-southeast-2c"
            ],
            "state": null,
            "zone_ids": [
              "apse2-az3",
              "apse2-az1",
              "apse2-az2"
            ]
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_route_table",
      "name": "data_outbound_asg_route_table",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "associations": [
              {
                "gateway_id": "",
                "main": false,
                "route_table_association_id": "rtbassoc-01655e76622e5b3ca",
                "route_table_id": "rtb-0546536e16bd3ea4a",
                "subnet_id": "subnet-05a5f23a5d7850420"
              },
              {
                "gateway_id": "",
                "main": false,
                "route_table_association_id": "rtbassoc-0ffdee1b659a0a43d",
                "route_table_id": "rtb-0546536e16bd3ea4a",
                "subnet_id": "subnet-0a7cd1cb23b694b8d"
              },
              {
                "gateway_id": "",
                "main": false,
                "route_table_association_id": "rtbassoc-0e28ed411ce853d57",
                "route_table_id": "rtb-0546536e16bd3ea4a",
                "subnet_id": "subnet-098152c385dd1b0fc"
              }
            ],
            "filter": [
              {
                "name": "tag:aws:cloudformation:stack-name",
                "values": [
                  "CP-TGW-Outbound-ASG-VPCStack-*"
                ]
              }
            ],
            "gateway_id": null,
            "id": "rtb-0546536e16bd3ea4a",
            "owner_id": "157151771343",
            "route_table_id": "rtb-0546536e16bd3ea4a",
            "routes": [
              {
                "cidr_block": "0.0.0.0/0",
                "egress_only_gateway_id": "",
                "gateway_id": "igw-0594e3c49c93b1558",
                "instance_id": "",
                "ipv6_cidr_block": "",
                "nat_gateway_id": "",
                "network_interface_id": "",
                "transit_gateway_id": "",
                "vpc_peering_connection_id": ""
              }
            ],
            "subnet_id": null,
            "tags": {
              "Name": "Public Subnets",
              "Network": "Public"
            },
            "vpc_id": "vpc-0b04ed93c7c0b4186"
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_subnet",
      "name": "outbound_subnet",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:157151771343:subnet/subnet-05a5f23a5d7850420",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "ap-southeast-2b",
            "availability_zone_id": "apse2-az1",
            "cidr_block": "10.30.64.0/24",
            "default_for_az": false,
            "filter": null,
            "id": "subnet-05a5f23a5d7850420",
            "ipv6_cidr_block": null,
            "ipv6_cidr_block_association_id": null,
            "map_public_ip_on_launch": true,
            "outpost_arn": "",
            "owner_id": "157151771343",
            "state": "available",
            "tags": {
              "Name": "Public subnet 2",
              "Network": "Public"
            },
            "vpc_id": "vpc-0b04ed93c7c0b4186"
          }
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:157151771343:subnet/subnet-098152c385dd1b0fc",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "ap-southeast-2c",
            "availability_zone_id": "apse2-az2",
            "cidr_block": "10.30.128.0/24",
            "default_for_az": false,
            "filter": null,
            "id": "subnet-098152c385dd1b0fc",
            "ipv6_cidr_block": null,
            "ipv6_cidr_block_association_id": null,
            "map_public_ip_on_launch": true,
            "outpost_arn": "",
            "owner_id": "157151771343",
            "state": "available",
            "tags": {
              "Name": "Public subnet 3",
              "Network": "Public"
            },
            "vpc_id": "vpc-0b04ed93c7c0b4186"
          }
        },
        {
          "index_key": 2,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:157151771343:subnet/subnet-0a7cd1cb23b694b8d",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "ap-southeast-2a",
            "availability_zone_id": "apse2-az3",
            "cidr_block": "10.30.0.0/24",
            "default_for_az": false,
            "filter": null,
            "id": "subnet-0a7cd1cb23b694b8d",
            "ipv6_cidr_block": null,
            "ipv6_cidr_block_association_id": null,
            "map_public_ip_on_launch": true,
            "outpost_arn": "",
            "owner_id": "157151771343",
            "state": "available",
            "tags": {
              "Name": "Public subnet 1",
              "Network": "Public"
            },
            "vpc_id": "vpc-0b04ed93c7c0b4186"
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_subnet_ids",
      "name": "outbound_subnet_ids",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filter": null,
            "id": "vpc-0b04ed93c7c0b4186",
            "ids": [
              "subnet-05a5f23a5d7850420",
              "subnet-098152c385dd1b0fc",
              "subnet-0a7cd1cb23b694b8d"
            ],
            "tags": {
              "Name": "Public subnet*"
            },
            "vpc_id": "vpc-0b04ed93c7c0b4186"
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_vpc",
      "name": "data_outbound_asg_vpc",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:157151771343:vpc/vpc-0b04ed93c7c0b4186",
            "cidr_block": "10.30.0.0/16",
            "cidr_block_associations": [
              {
                "association_id": "vpc-cidr-assoc-05112aed176d605f3",
                "cidr_block": "10.30.0.0/16",
                "state": "associated"
              }
            ],
            "default": false,
            "dhcp_options_id": "dopt-0260dc65",
            "enable_dns_hostnames": true,
            "enable_dns_support": true,
            "filter": [
              {
                "name": "tag:Name",
                "values": [
                  "CP-TGW-Outbound-ASG-VPCStack-*"
                ]
              }
            ],
            "id": "vpc-0b04ed93c7c0b4186",
            "instance_tenancy": "default",
            "ipv6_association_id": null,
            "ipv6_cidr_block": null,
            "main_route_table_id": "rtb-05d7bc3b838eec751",
            "owner_id": "157151771343",
            "state": "available",
            "tags": {
              "Name": "CP-TGW-Outbound-ASG-VPCStack-PKEJ9G6D7IAJ"
            }
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_cloudformation_stack",
      "name": "checkpoint_inbound_asg_cloudformation_stack",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "capabilities": [
              "CAPABILITY_IAM"
            ],
            "disable_rollback": true,
            "iam_role_arn": "",
            "id": "arn:aws:cloudformation:ap-southeast-2:157151771343:stack/CP-TGW-Inbound-ASG/04b3d700-e274-11ea-91c9-0a960248e856",
            "name": "CP-TGW-Inbound-ASG",
            "notification_arns": null,
            "on_failure": null,
            "outputs": {
              "SecurityGroup": "sg-0c6a1870af9663341"
            },
            "parameters": {
              "ConfigurationTemplate": "tgw-inbound-template",
              "ControlGatewayOverPrivateOrPublicAddress": "public",
              "InstanceType": "c5.large",
              "KeyName": "AWS R8010 Management",
              "License": "R80.40-BYOL",
              "ManagementServer": "mgmt-aws",
              "MaxSize": "2",
              "MinSize": "1",
              "Name": "CP-TGW-CheckPoint-Inbound-ASG",
              "PasswordHash": "****",
              "SICKey": "****",
              "Shell": "/bin/bash",
              "Subnets": "subnet-007bac7b01e36ca34,subnet-0fc164747852b3b71,subnet-03818eb6071b274d6",
              "TargetGroups": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:targetgroup/CP-TGW-Ext-NLB-TG/1026e1837cae2237,arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:targetgroup/CP-TGW-Ext-NLB2-TG/e79459fca06243c6,arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:targetgroup/CP-TGW-Ext-ALB-TG-app1/59b6f4a264ade1d1,arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:targetgroup/CP-TGW-Ext-ALB-TG-app2/7ea8689d29e4a208",
              "VPC": "vpc-0ee123db291670666"
            },
            "policy_body": null,
            "policy_url": null,
            "tags": null,
            "template_body": "{\"AWSTemplateFormatVersion\":\"2010-09-09\",\"Conditions\":{\"AdminEmail\":{\"Fn::Not\":[{\"Fn::Equals\":[{\"Ref\":\"AdminEmail\"},\"\"]}]},\"BlinkConfig\":{\"Fn::Not\":[{\"Fn::Equals\":[{\"Fn::Select\":[0,{\"Fn::Split\":[\"-\",{\"Ref\":\"License\"}]}]},\"R77.30\"]}]},\"CreateELB\":{\"Fn::Not\":[{\"Fn::Equals\":[{\"Ref\":\"ELBType\"},\"none\"]}]},\"EnableCloudWatch\":{\"Fn::Equals\":[{\"Ref\":\"EnableCloudWatch\"},\"true\"]},\"EnableInstanceConnect\":{\"Fn::Equals\":[{\"Ref\":\"EnableInstanceConnect\"},\"true\"]},\"ProvidedLoadBalancers\":{\"Fn::Not\":[{\"Fn::Equals\":[{\"Ref\":\"LoadBalancers\"},\"\"]}]},\"ProvidedPassHash\":{\"Fn::Not\":[{\"Fn::Equals\":[{\"Ref\":\"PasswordHash\"},\"\"]}]},\"ProvidedTargetGroups\":{\"Fn::Not\":[{\"Fn::Equals\":[{\"Ref\":\"TargetGroups\"},\"\"]}]}},\"Description\":\"Create an Auto Scaling group of Check Point gateways (20200413)\",\"Metadata\":{\"AWS::CloudFormation::Interface\":{\"ParameterGroups\":[{\"Label\":{\"default\":\"VPC Network Configuration\"},\"Parameters\":[\"VPC\",\"Subnets\"]},{\"Label\":{\"default\":\"Automatic Provisioning with Security Management Server Settings\"},\"Parameters\":[\"ControlGatewayOverPrivateOrPublicAddress\",\"ManagementServer\",\"ConfigurationTemplate\"]},{\"Label\":{\"default\":\"EC2 Instances Configuration\"},\"Parameters\":[\"Name\",\"InstanceType\",\"KeyName\",\"EnableInstanceConnect\"]},{\"Label\":{\"default\":\"Auto Scaling Configuration\"},\"Parameters\":[\"MinSize\",\"MaxSize\",\"AdminEmail\",\"LoadBalancers\",\"TargetGroups\"]},{\"Label\":{\"default\":\"Check Point Settings\"},\"Parameters\":[\"License\",\"Shell\",\"PasswordHash\",\"SICKey\",\"AllowUploadDownload\",\"EnableCloudWatch\",\"BootstrapScript\"]},{\"Label\":{\"default\":\"Proxy Configuration (optional)\"},\"Parameters\":[\"ELBType\",\"ELBPort\",\"ELBClients\"]}],\"ParameterLabels\":{\"AdminEmail\":{\"default\":\"Email address\"},\"AllowUploadDownload\":{\"default\":\"Allow upload \\u0026 download\"},\"BootstrapScript\":{\"default\":\"Bootstrap Script\"},\"ConfigurationTemplate\":{\"default\":\"Configuration template\"},\"ControlGatewayOverPrivateOrPublicAddress\":{\"default\":\"Gateways addresses\"},\"ELBClients\":{\"default\":\"Allowed proxy clients\"},\"ELBPort\":{\"default\":\"Proxy port\"},\"ELBType\":{\"default\":\"Proxy type\"},\"EnableCloudWatch\":{\"default\":\"CloudWatch metrics\"},\"EnableInstanceConnect\":{\"default\":\"Enable AWS Instance Connect\"},\"InstanceType\":{\"default\":\"Instance type\"},\"KeyName\":{\"default\":\"Key name\"},\"License\":{\"default\":\"Version \\u0026 license\"},\"LoadBalancers\":{\"default\":\"Load Balancers\"},\"ManagementServer\":{\"default\":\"Management Server\"},\"MaxSize\":{\"default\":\"Maximum group size\"},\"MinSize\":{\"default\":\"Minimum group size\"},\"Name\":{\"default\":\"Name\"},\"PasswordHash\":{\"default\":\"Password hash\"},\"SICKey\":{\"default\":\"SIC key\"},\"Shell\":{\"default\":\"Admin shell\"},\"Subnets\":{\"default\":\"Subnets\"},\"TargetGroups\":{\"default\":\"Target Groups\"},\"VPC\":{\"default\":\"VPC\"}}}},\"Outputs\":{\"SecurityGroup\":{\"Description\":\"The Security Group of the Auto Scaling group\",\"Value\":{\"Fn::GetAtt\":[\"PermissiveSecurityGroup\",\"GroupId\"]}},\"URL\":{\"Condition\":\"CreateELB\",\"Description\":\"The URL of the Proxy\",\"Value\":{\"Fn::Join\":[\"\",[\"http://\",{\"Fn::GetAtt\":[\"ElasticLoadBalancer\",\"DNSName\"]}]]}}},\"Parameters\":{\"AdminEmail\":{\"AllowedPattern\":\"(|([a-zA-Z0-9_\\\\-\\\\.]+)@((\\\\[[0-9]{1,3}\\\\.[0-9]{1,3}\\\\.[0-9]{1,3}\\\\.)|(([a-zA-Z0-9\\\\-]+\\\\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\\\\]?))\",\"ConstraintDescription\":\"must be a valid email address.\",\"Default\":\"\",\"Description\":\"Notifications about scaling events will be sent to this email address (optional)\",\"Type\":\"String\"},\"AllowUploadDownload\":{\"AllowedValues\":[\"true\",\"false\"],\"Default\":\"true\",\"Description\":\"Automatically download Blade Contracts and other important data. Improve product experience by sending data to Check Point\",\"Type\":\"String\"},\"BootstrapScript\":{\"Default\":\"\",\"Description\":\"An optional script with comma separated commands to run on the initial boot\",\"NoEcho\":\"true\",\"Type\":\"CommaDelimitedList\"},\"ConfigurationTemplate\":{\"Description\":\"A name of a gateway configuration template in the automatic provisioning configuration\",\"MinLength\":\"1\",\"Type\":\"String\"},\"ControlGatewayOverPrivateOrPublicAddress\":{\"AllowedValues\":[\"private\",\"public\"],\"Default\":\"private\",\"Description\":\"Determines if the gateways are provisioned using their private or public address\",\"Type\":\"String\"},\"ELBClients\":{\"AllowedPattern\":\"(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/(\\\\d{1,2})\",\"Default\":\"0.0.0.0/0\",\"Type\":\"String\"},\"ELBPort\":{\"Default\":\"8080\",\"Type\":\"Number\"},\"ELBType\":{\"AllowedValues\":[\"none\",\"internal\",\"internet-facing\"],\"Default\":\"none\",\"Type\":\"String\"},\"EnableCloudWatch\":{\"AllowedValues\":[\"true\",\"false\"],\"Default\":\"false\",\"Description\":\"Report Check Point specific CloudWatch metrics\",\"Type\":\"String\"},\"EnableInstanceConnect\":{\"AllowedValues\":[\"true\",\"false\"],\"Default\":\"false\",\"Description\":\"Ec2 Instance Connect is not supported with versions prior to R80.40\",\"Type\":\"String\"},\"InstanceType\":{\"AllowedValues\":[\"c4.large\",\"c4.xlarge\",\"c4.2xlarge\",\"c4.4xlarge\",\"c4.8xlarge\",\"c5.large\",\"c5.xlarge\",\"c5.2xlarge\",\"c5.4xlarge\",\"c5.9xlarge\",\"c5.18xlarge\",\"c5n.large\",\"c5n.xlarge\",\"c5n.2xlarge\",\"c5n.4xlarge\",\"c5n.9xlarge\",\"c5n.18xlarge\",\"t2.xlarge\",\"t2.2xlarge\"],\"ConstraintDescription\":\"must be a valid EC2 instance type.\",\"Default\":\"c5n.xlarge\",\"Description\":\"c4 and t2 instance types are supported only up to version R80.10 and c5 are supported only with R80.20 and above\",\"Type\":\"String\"},\"KeyName\":{\"ConstraintDescription\":\"must be the name of an existing EC2 KeyPair.\",\"Description\":\"The EC2 Key Pair to allow SSH access to the instances\",\"MinLength\":\"1\",\"Type\":\"AWS::EC2::KeyPair::KeyName\"},\"License\":{\"AllowedValues\":[\"R77.30-BYOL\",\"R77.30-PAYG-NGTP\",\"R80.10-BYOL\",\"R80.10-PAYG-NGTP\",\"R80.10-PAYG-NGTX\",\"R80.20-BYOL\",\"R80.20-PAYG-NGTP\",\"R80.20-PAYG-NGTX\",\"R80.30-BYOL\",\"R80.30-PAYG-NGTP\",\"R80.30-PAYG-NGTX\",\"R80.40-BYOL\",\"R80.40-PAYG-NGTP\",\"R80.40-PAYG-NGTX\"],\"Default\":\"R80.30-PAYG-NGTP\",\"Type\":\"String\"},\"LoadBalancers\":{\"Default\":\"\",\"Description\":\"An optional list of Classic Load Balancers associated with this Auto Scaling group (comma separated list of LB names, without spaces)\",\"Type\":\"String\"},\"ManagementServer\":{\"Description\":\"The name that represents the Security Management Server in the automatic provisioning configuration\",\"MinLength\":\"1\",\"Type\":\"String\"},\"MaxSize\":{\"Default\":\"10\",\"Description\":\"The maximal number of gateways in the Auto Scaling group\",\"MinValue\":\"1\",\"Type\":\"Number\"},\"MinSize\":{\"Default\":\"2\",\"Description\":\"The minimal number of gateways in the Auto Scaling group\",\"MinValue\":\"1\",\"Type\":\"Number\"},\"Name\":{\"Default\":\"Check-Point-Gateway\",\"Type\":\"String\"},\"PasswordHash\":{\"AllowedPattern\":\"[\\\\$\\\\./a-zA-Z0-9]*\",\"Default\":\"\",\"Description\":\"Admin user's password hash (use command \\\"openssl passwd -1 PASSWORD\\\" to get the PASSWORD's hash) (optional)\",\"NoEcho\":\"true\",\"Type\":\"String\"},\"SICKey\":{\"AllowedPattern\":\"[a-zA-Z0-9]*\",\"ConstraintDescription\":\"At least 8 alpha numeric characters\",\"Description\":\"The Secure Internal Communication key creates trusted connections between Check Point components. Choose a random string consisting of at least 8 alphanumeric characters\",\"MinLength\":\"8\",\"NoEcho\":\"true\",\"Type\":\"String\"},\"Shell\":{\"AllowedValues\":[\"/etc/cli.sh\",\"/bin/bash\",\"/bin/csh\",\"/bin/tcsh\"],\"Default\":\"/etc/cli.sh\",\"Description\":\"Change the admin shell to enable advanced command line configuration\",\"Type\":\"String\"},\"Subnets\":{\"Description\":\"Select at least 2 subnets in the VPC\",\"MinLength\":\"1\",\"Type\":\"List\\u003cAWS::EC2::Subnet::Id\\u003e\"},\"TargetGroups\":{\"Default\":\"\",\"Description\":\"An optional list of Target Groups to associate with the Auto Scaling group (comma separated list of ARNs, without spaces)\",\"Type\":\"String\"},\"VPC\":{\"Description\":\"Select an existing VPC\",\"MinLength\":\"1\",\"Type\":\"AWS::EC2::VPC::Id\"}},\"Resources\":{\"AMI\":{\"Properties\":{\"Parameters\":{\"Version\":{\"Fn::If\":[\"BlinkConfig\",{\"Fn::Join\":[\"-\",[{\"Ref\":\"License\"},\"GW\"]]},{\"Ref\":\"License\"}]}},\"TemplateURL\":\"https://s3.amazonaws.com/CloudFormationTemplate/amis.json\"},\"Type\":\"AWS::CloudFormation::Stack\"},\"CPUAlarmHigh\":{\"Properties\":{\"AlarmActions\":[{\"Ref\":\"SecurityGatewayScaleUpPolicy\"}],\"AlarmDescription\":\"Scale-up if CPU \\u003e 80% for 10 minutes\",\"ComparisonOperator\":\"GreaterThanThreshold\",\"Dimensions\":[{\"Name\":\"AutoScalingGroupName\",\"Value\":{\"Ref\":\"GatewayGroup\"}}],\"EvaluationPeriods\":\"2\",\"MetricName\":\"CPUUtilization\",\"Namespace\":\"AWS/EC2\",\"Period\":\"300\",\"Statistic\":\"Average\",\"Threshold\":\"80\"},\"Type\":\"AWS::CloudWatch::Alarm\"},\"CPUAlarmLow\":{\"Properties\":{\"AlarmActions\":[{\"Ref\":\"SecurityGatewayScaleDownPolicy\"}],\"AlarmDescription\":\"Scale-down if CPU \\u003c 60% for 10 minutes\",\"ComparisonOperator\":\"LessThanThreshold\",\"Dimensions\":[{\"Name\":\"AutoScalingGroupName\",\"Value\":{\"Ref\":\"GatewayGroup\"}}],\"EvaluationPeriods\":\"2\",\"MetricName\":\"CPUUtilization\",\"Namespace\":\"AWS/EC2\",\"Period\":\"300\",\"Statistic\":\"Average\",\"Threshold\":\"60\"},\"Type\":\"AWS::CloudWatch::Alarm\"},\"CheckPointGateway\":{\"Condition\":\"EnableCloudWatch\",\"Properties\":{\"AssumeRolePolicyDocument\":{\"Statement\":[{\"Action\":[\"sts:AssumeRole\"],\"Effect\":\"Allow\",\"Principal\":{\"Service\":[\"ec2.amazonaws.com\"]}}],\"Version\":\"2012-10-17\"},\"Path\":\"/\",\"Policies\":[{\"PolicyDocument\":{\"Statement\":[{\"Action\":[\"cloudwatch:PutMetricData\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"},\"PolicyName\":\"CheckPointGateway\"}]},\"Type\":\"AWS::IAM::Role\"},\"ELBSecurityGroup\":{\"Condition\":\"CreateELB\",\"Properties\":{\"GroupDescription\":\"ELB security group\",\"SecurityGroupIngress\":[{\"CidrIp\":{\"Ref\":\"ELBClients\"},\"FromPort\":{\"Ref\":\"ELBPort\"},\"IpProtocol\":\"tcp\",\"ToPort\":{\"Ref\":\"ELBPort\"}}],\"VpcId\":{\"Ref\":\"VPC\"}},\"Type\":\"AWS::EC2::SecurityGroup\"},\"ElasticLoadBalancer\":{\"Condition\":\"CreateELB\",\"Properties\":{\"CrossZone\":\"true\",\"HealthCheck\":{\"HealthyThreshold\":\"3\",\"Interval\":\"30\",\"Target\":{\"Fn::Join\":[\":\",[\"TCP\",{\"Ref\":\"ELBPort\"}]]},\"Timeout\":\"5\",\"UnhealthyThreshold\":\"5\"},\"Listeners\":[{\"InstancePort\":{\"Ref\":\"ELBPort\"},\"LoadBalancerPort\":{\"Ref\":\"ELBPort\"},\"Protocol\":\"TCP\"}],\"Policies\":[{\"Attributes\":[{\"Name\":\"ProxyProtocol\",\"Value\":\"true\"}],\"InstancePorts\":[{\"Ref\":\"ELBPort\"}],\"PolicyName\":\"EnableProxyProtocol\",\"PolicyType\":\"ProxyProtocolPolicyType\"}],\"Scheme\":{\"Ref\":\"ELBType\"},\"SecurityGroups\":[{\"Ref\":\"ELBSecurityGroup\"}],\"Subnets\":{\"Ref\":\"Subnets\"}},\"Type\":\"AWS::ElasticLoadBalancing::LoadBalancer\"},\"GatewayGroup\":{\"Properties\":{\"LaunchConfigurationName\":{\"Ref\":\"LaunchConfig\"},\"LoadBalancerNames\":{\"Fn::If\":[\"ProvidedLoadBalancers\",{\"Fn::If\":[\"CreateELB\",{\"Fn::Split\":[\",\",{\"Fn::Join\":[\",\",[{\"Ref\":\"LoadBalancers\"},{\"Ref\":\"ElasticLoadBalancer\"}]]}]},{\"Fn::Split\":[\",\",{\"Ref\":\"LoadBalancers\"}]}]},{\"Fn::If\":[\"CreateELB\",[{\"Ref\":\"ElasticLoadBalancer\"}],[{\"Ref\":\"AWS::NoValue\"}]]}]},\"MaxSize\":{\"Ref\":\"MaxSize\"},\"MinSize\":{\"Ref\":\"MinSize\"},\"NotificationConfiguration\":{\"Fn::If\":[\"AdminEmail\",{\"NotificationTypes\":[\"autoscaling:EC2_INSTANCE_LAUNCH\",\"autoscaling:EC2_INSTANCE_LAUNCH_ERROR\",\"autoscaling:EC2_INSTANCE_TERMINATE\",\"autoscaling:EC2_INSTANCE_TERMINATE_ERROR\"],\"TopicARN\":{\"Ref\":\"NotificationTopic\"}},{\"Ref\":\"AWS::NoValue\"}]},\"Tags\":[{\"Key\":\"Name\",\"PropagateAtLaunch\":\"true\",\"Value\":{\"Ref\":\"Name\"}},{\"Key\":\"x-chkp-tags\",\"PropagateAtLaunch\":\"true\",\"Value\":{\"Fn::Join\":[\":\",[{\"Fn::Join\":[\"=\",[\"management\",{\"Ref\":\"ManagementServer\"}]]},{\"Fn::Join\":[\"=\",[\"template\",{\"Ref\":\"ConfigurationTemplate\"}]]},{\"Fn::Join\":[\"=\",[\"ip-address\",{\"Ref\":\"ControlGatewayOverPrivateOrPublicAddress\"}]]}]]}}],\"TargetGroupARNs\":{\"Fn::If\":[\"ProvidedTargetGroups\",{\"Fn::Split\":[\",\",{\"Ref\":\"TargetGroups\"}]},{\"Ref\":\"AWS::NoValue\"}]},\"VPCZoneIdentifier\":{\"Ref\":\"Subnets\"}},\"Type\":\"AWS::AutoScaling::AutoScalingGroup\"},\"InstanceProfile\":{\"Condition\":\"EnableCloudWatch\",\"Properties\":{\"Path\":\"/\",\"Roles\":[{\"Ref\":\"CheckPointGateway\"}]},\"Type\":\"AWS::IAM::InstanceProfile\"},\"LaunchConfig\":{\"Properties\":{\"AssociatePublicIpAddress\":\"true\",\"IamInstanceProfile\":{\"Fn::If\":[\"EnableCloudWatch\",{\"Ref\":\"InstanceProfile\"},{\"Ref\":\"AWS::NoValue\"}]},\"ImageId\":{\"Fn::GetAtt\":[\"AMI\",\"Outputs.ImageId\"]},\"InstanceType\":{\"Ref\":\"InstanceType\"},\"KeyName\":{\"Ref\":\"KeyName\"},\"SecurityGroups\":[{\"Ref\":\"PermissiveSecurityGroup\"}],\"UserData\":{\"Fn::Base64\":{\"Fn::Join\":[\"\\n\",[\"#!/bin/bash\",\"logfile=/var/log/aws-user-data.log\",\"\\u003e ${logfile}\",\"exec 1\\u003e\\u003e${logfile} 2\\u003e\\u003e${logfile}\",\"echo template_name: autoscale \\u003e\\u003e /etc/cloud-version\",\"echo template_version: 20200413 \\u003e\\u003e /etc/cloud-version\",{\"Fn::If\":[\"ProvidedPassHash\",{\"Fn::Join\":[\"\\n\",[{\"Fn::Join\":[\"\",[\"pwd_hash='\",{\"Ref\":\"PasswordHash\"},\"'\"]]},\"echo \\\"set admin password\\\"\",\"clish -c \\\"set user admin password-hash $pwd_hash\\\" -s\"]]},\"pwd_hash=\\\"$(dd if=/dev/urandom count=1 2\\u003e/dev/null | sha1sum | cut -c -28)\\\"\"]},{\"Fn::Sub\":\"enable_cloudwatch=${EnableCloudWatch}\"},{\"Fn::Sub\":\"clish -c \\\"set user admin shell ${Shell}\\\" -s\"},{\"Fn::Join\":[\"\",[\"sic=$(echo '\",{\"Fn::Base64\":{\"Ref\":\"SICKey\"}},\"' | base64 --decode)\"]]},{\"Fn::Join\":[\"\",[\"enable_eic='\",{\"Fn::If\":[\"EnableInstanceConnect\",{\"Ref\":\"EnableInstanceConnect\"},{\"Ref\":\"AWS::NoValue\"}]},\"'\"]]},{\"Fn::If\":[\"BlinkConfig\",{\"Fn::Sub\":\"blink_config -s \\\"gateway_cluster_member=false\\u0026ftw_sic_key='$sic'\\u0026upload_info=${AllowUploadDownload}\\u0026download_info=${AllowUploadDownload}\\u0026admin_hash='$pwd_hash'\\\"\"},{\"Fn::Sub\":\"config_system -s \\\"install_security_gw=true\\u0026install_ppak=true\\u0026gateway_cluster_member=false\\u0026install_security_managment=false\\u0026ftw_sic_key='$sic'\\u0026upload_info=${AllowUploadDownload}\\u0026download_info=${AllowUploadDownload}\\\"\"}]},\"addr=\\\"$(ip addr show dev eth0 | awk \\\"/inet/{print \\\\$2; exit}\\\" | cut -d / -f 1)\\\"\",\"dynamic_objects -n LocalGateway -r \\\"$addr\\\" \\\"$addr\\\" -a\",\"if \\\"$enable_cloudwatch\\\"; then\",\"  echo '{\\\"version\\\":\\\"1\\\"}' \\u003e $FWDIR/conf/cloudwatch.json\",\"  cloudwatch start\",\"fi\",{\"Fn::Join\":[\"\",[\"bootstrap=$(echo '\",{\"Fn::Base64\":{\"Fn::Join\":[\"; \",{\"Ref\":\"BootstrapScript\"}]}},\"' | base64 --decode)\"]]},\"eval $bootstrap\",\"test -z \\\"$enable_eic\\\" || {\",\"echo \\\"enabling ec2 instance connect\\\"\",\"if [ -d \\\"/etc/ec2-instance-connect\\\" ]; then\",\"ec2-instance-connect-config on\",\"else\",\"echo \\\"Could not enable eic, not supported in versions R80.30 and below\\\"\",\"fi\",\"}\",{\"Fn::If\":[\"BlinkConfig\",{\"Ref\":\"AWS::NoValue\"},[\"echo \\\"Rebooting...\\\"\",\"shutdown -r now\"]]},\"\"]]}}},\"Type\":\"AWS::AutoScaling::LaunchConfiguration\"},\"NotificationTopic\":{\"Condition\":\"AdminEmail\",\"Properties\":{\"Subscription\":[{\"Endpoint\":{\"Ref\":\"AdminEmail\"},\"Protocol\":\"email\"}]},\"Type\":\"AWS::SNS::Topic\"},\"PermissiveSecurityGroup\":{\"Properties\":{\"GroupDescription\":\"Permissive security group\",\"SecurityGroupIngress\":[{\"CidrIp\":\"0.0.0.0/0\",\"IpProtocol\":\"-1\"}],\"Tags\":[{\"Key\":\"Name\",\"Value\":{\"Fn::Join\":[\"_\",[{\"Ref\":\"AWS::StackName\"},\"PermissiveSecurityGroup\"]]}}],\"VpcId\":{\"Ref\":\"VPC\"}},\"Type\":\"AWS::EC2::SecurityGroup\"},\"SecurityGatewayScaleDownPolicy\":{\"Properties\":{\"AdjustmentType\":\"ChangeInCapacity\",\"AutoScalingGroupName\":{\"Ref\":\"GatewayGroup\"},\"Cooldown\":\"300\",\"ScalingAdjustment\":\"-1\"},\"Type\":\"AWS::AutoScaling::ScalingPolicy\"},\"SecurityGatewayScaleUpPolicy\":{\"Properties\":{\"AdjustmentType\":\"ChangeInCapacity\",\"AutoScalingGroupName\":{\"Ref\":\"GatewayGroup\"},\"Cooldown\":\"300\",\"ScalingAdjustment\":\"1\"},\"Type\":\"AWS::AutoScaling::ScalingPolicy\"}}}",
            "template_url": "https://s3.amazonaws.com/CloudFormationTemplate/autoscale.json",
            "timeout_in_minutes": 50,
            "timeouts": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInVwZGF0ZSI6MTgwMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_lb_target_group.external_lb2_target_group",
            "aws_lb_target_group.external_lb_target_group",
            "aws_lb_target_group.external_lb_tg_app1",
            "aws_lb_target_group.external_lb_tg_app2",
            "aws_subnet.inbound_subnet",
            "aws_vpc.inbound_vpc",
            "data.aws_availability_zones.azs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_cloudformation_stack",
      "name": "checkpoint_tgw_cloudformation_stack",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "capabilities": [
              "CAPABILITY_IAM"
            ],
            "disable_rollback": true,
            "iam_role_arn": "",
            "id": "arn:aws:cloudformation:ap-southeast-2:157151771343:stack/CP-TGW-Outbound-ASG/0091a490-e274-11ea-8a6b-0a72cc04ed82",
            "name": "CP-TGW-Outbound-ASG",
            "notification_arns": null,
            "on_failure": null,
            "outputs": {
              "ConfigurationTemplateName": "tgw-outbound-template",
              "ControllerName": "tgw-controller",
              "ManagementName": "mgmt-aws"
            },
            "parameters": {
              "AvailabilityZones": "ap-southeast-2a,ap-southeast-2b,ap-southeast-2c",
              "ConfigurationTemplate": "tgw-outbound-template",
              "ControlGatewayOverPrivateOrPublicAddress": "public",
              "GatewayManagement": "Locally managed",
              "GatewaysAddresses": "10.30.0.0/16",
              "GatewaysBlades": "On",
              "GatewaysInstanceType": "c5.large",
              "GatewaysLicense": "R80.40-BYOL",
              "GatewaysMaxSize": "2",
              "GatewaysMinSize": "1",
              "GatewaysPasswordHash": "****",
              "GatewaysSIC": "****",
              "KeyPairName": "AWS R8010 Management",
              "ManagementDeploy": "No",
              "ManagementServer": "mgmt-aws",
              "Name": "CP-TGW-CheckPoint-TGW",
              "NumberOfAZs": "3",
              "PublicSubnetCidrA": "10.30.0.0/24",
              "PublicSubnetCidrB": "10.30.64.0/24",
              "PublicSubnetCidrC": "10.30.128.0/24",
              "PublicSubnetCidrD": "10.30.196.0/24",
              "Shell": "/bin/bash",
              "VpcCidr": "10.30.0.0/16"
            },
            "policy_body": null,
            "policy_url": null,
            "tags": null,
            "template_body": "AWSTemplateFormatVersion: '2010-09-09'\nDescription: Deploy an Auto Scaling Group of CloudGuard Security Gateways for Transit Gateway with an optional Management Server in a new VPC (20200414)\nMetadata:\n  AWS::CloudFormation::Interface:\n    ParameterGroups:\n      - Label:\n          default: Network Configuration\n        Parameters:\n          - VpcCidr\n          - AvailabilityZones\n          - NumberOfAZs\n          - PublicSubnetCidrA\n          - PublicSubnetCidrB\n          - PublicSubnetCidrC\n          - PublicSubnetCidrD\n      - Label:\n          default: General Settings\n        Parameters:\n          - KeyPairName\n          - EnableInstanceConnect\n          - AllowUploadDownload\n          - Shell\n      - Label:\n          default: Check Point CloudGuard IaaS Security Gateways Auto Scaling Group Configuration\n        Parameters:\n          - Name\n          - GatewaysInstanceType\n          - GatewaysMinSize\n          - GatewaysMaxSize\n          - GatewaysLicense\n          - GatewaysPasswordHash\n          - GatewaysSIC\n          - ASN\n          - AdminEmail\n          - EnableCloudWatch\n      - Label:\n          default: Check Point CloudGuard IaaS Security Management Server Configuration\n        Parameters:\n          - ManagementDeploy\n          - ManagementInstanceType\n          - ManagementLicense\n          - ManagementPermissions\n          - PredefinedRole\n          - ManagementPasswordHash\n          - GatewaysBlades\n          - AdminAddressCIDR\n          - GatewayManagement\n          - GatewaysAddresses\n      - Label:\n          default: Automatic Provisioning with Security Management Server Settings\n        Parameters:\n          - ControlGatewayOverPrivateOrPublicAddress\n          - ManagementServer\n          - ConfigurationTemplate\n    ParameterLabels:\n      VpcCidr:\n        default: VPC CIDR\n      NumberOfAZs:\n        default: Number of AZs\n      AvailabilityZones:\n        default: Availability Zones\n      PublicSubnetCidrA:\n        default: Public Subnet 1\n      PublicSubnetCidrB:\n        default: Public Subnet 2\n      PublicSubnetCidrC:\n        default: Public Subnet 3\n      PublicSubnetCidrD:\n        default: Public Subnet 4\n      ManagementDeploy:\n        default: Deploy Management Server\n      ManagementInstanceType:\n        default: Instance type\n      ManagementLicense:\n        default: Version \u0026 license\n      ManagementPermissions:\n        default: IAM role\n      PredefinedRole:\n        default: Existing IAM role name\n      KeyPairName:\n        default: Key name\n      EnableInstanceConnect:\n        default: Enable AWS Instance Connect\n      ManagementPasswordHash:\n        default: Password hash\n      AdminAddressCIDR:\n        default: Administrator addresses\n      GatewaysAddresses:\n        default: Gateways addresses\n      GatewayManagement:\n        default: Manage Gateways\n      GatewaysInstanceType:\n        default: Instance type\n      GatewaysMinSize:\n        default: Minimum group size\n      GatewaysMaxSize:\n        default: Maximum group size\n      AdminEmail:\n        default: Email address\n      GatewaysBlades:\n        default: Default Blades\n      GatewaysLicense:\n        default: Version \u0026 license\n      GatewaysPasswordHash:\n        default: Password hash\n      GatewaysSIC:\n        default: SIC key\n      EnableCloudWatch:\n        default: CloudWatch metrics\n      ASN:\n        default: BGP ASN\n      ControlGatewayOverPrivateOrPublicAddress:\n        default: Gateways addresses\n      ManagementServer:\n        default: Management Server\n      ConfigurationTemplate:\n        default: Configuration template\n      Name:\n        default: Name\n      Shell:\n        default: Admin shell\n      AllowUploadDownload:\n        default: Allow upload \u0026 download\nParameters:\n  VpcCidr:\n    Description: CIDR block for the VPC\n    Type: String\n    AllowedPattern: (\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})/(\\d{1,2})\n    Default: 10.0.0.0/16\n    ConstraintDescription: CIDR block parameter must be in the form x.x.x.x/16-28\n  AvailabilityZones:\n    Description: List of Availability Zones (AZs) to use for the subnets in the VPC. Select at least two\n    Type: List\u003cAWS::EC2::AvailabilityZone::Name\u003e\n    MinLength: 1\n  NumberOfAZs:\n    Description: Number of Availability Zones to use in the VPC. This must match your selections in the list of Availability Zones parameter\n    Type: String\n    Default: 2\n    AllowedValues:\n      - 2\n      - 3\n      - 4\n  PublicSubnetCidrA:\n    Description: CIDR block for public subnet 1 located in the 1st Availability Zone. If you choose to deploy a Security Management Server it will be deployed in this subnet\n    Type: String\n    AllowedPattern: ^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(\\/(1[6-9]|2[0-8]))$\n    Default: 10.0.0.0/24\n    ConstraintDescription: CIDR block parameter must be in the form x.x.x.x/16-28\n  PublicSubnetCidrB:\n    Description: CIDR block for public subnet 2 located in the 2nd Availability Zone\n    Type: String\n    AllowedPattern: ^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(\\/(1[6-9]|2[0-8]))$\n    Default: 10.0.2.0/24\n    ConstraintDescription: CIDR block parameter must be in the form x.x.x.x/16-28\n  PublicSubnetCidrC:\n    Description: CIDR block for public subnet 3 located in the 3rd Availability Zone\n    Type: String\n    AllowedPattern: ^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(\\/(1[6-9]|2[0-8]))$\n    Default: 10.0.4.0/24\n    ConstraintDescription: CIDR block parameter must be in the form x.x.x.x/16-28\n  PublicSubnetCidrD:\n    Description: CIDR block for public subnet 4 located in the 4th Availability Zone\n    Type: String\n    AllowedPattern: ^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(\\/(1[6-9]|2[0-8]))$\n    Default: 10.0.6.0/24\n    ConstraintDescription: CIDR block parameter must be in the form x.x.x.x/16-28\n  ManagementDeploy:\n    Description: Select 'No' to use an existing Security Management Server or to deploy one later and to ignore the other parameters of this section\n    Type: String\n    Default: 'Yes'\n    AllowedValues:\n      - 'Yes'\n      - 'No'\n  ManagementInstanceType:\n    Type: String\n    Default: m5.xlarge\n    AllowedValues:\n      - m5.large\n      - m5.xlarge\n      - m5.2xlarge\n      - m5.4xlarge\n      - m5.12xlarge\n      - m5.24xlarge\n    ConstraintDescription: Must be a valid EC2 instance type\n  ManagementLicense:\n    Type: String\n    Default: R80.30-PAYG-MGMT\n    AllowedValues:\n      - R80.20-BYOL\n      - R80.20-PAYG-MGMT\n      - R80.30-BYOL\n      - R80.30-PAYG-MGMT\n      - R80.40-BYOL\n      - R80.40-PAYG-MGMT\n  ManagementPermissions:\n    Type: String\n    Default: Create with read permissions\n    AllowedValues:\n      - None (configure later)\n      - Use existing (specify an existing IAM role name)\n      - Create with assume role permissions (specify an STS role ARN)\n      - Create with read permissions\n      - Create with read-write permissions\n  PredefinedRole:\n    Type: String\n    Default: \"\"\n    Description: A predefined IAM role to attach to the instance profile. Ignored if IAM role is not set to 'Use existing'\n  KeyPairName:\n    Description: The EC2 Key Pair to allow SSH access to the instances created by this stack\n    Type: AWS::EC2::KeyPair::KeyName\n    MinLength: 1\n    ConstraintDescription: Must be the name of an existing EC2 KeyPair\n  EnableInstanceConnect:\n    Description: Ec2 Instance Connect is not supported with versions prior to R80.40\n    Type: String\n    Default: 'false'\n    AllowedValues:\n      - 'true'\n      - 'false'\n  ManagementPasswordHash:\n    Description: Admin user's password hash (use command \"openssl passwd -1 PASSWORD\" to get the PASSWORD's hash) (optional)\n    Type: String\n    Default: ''\n    AllowedPattern: '[\\$\\./a-zA-Z0-9]*'\n    NoEcho: true\n  AdminAddressCIDR:\n    Description: Allow web, SSH, and graphical clients only from this network to communicate with the Security Management Server\n    Type: String\n    Default: 0.0.0.0/0\n    AllowedPattern: ^(([0-9]{1,3}\\.){3}[0-9]{1,3}/([0-9]|[1-2][0-9]|3[0-2]))?$\n  GatewaysAddresses:\n    Description: Allow gateways only from this network to communicate with the Security Management Server\n    Type: String\n    Default: 10.0.0.0/16\n    AllowedPattern: ^([0-9]{1,3}\\.){3}[0-9]{1,3}/([0-9]|[1-2][0-9]|3[0-2])$\n  GatewayManagement:\n    Description: Select 'Over the internet' if any of the gateways you wish to manage are not directly accessed via their private IP address\n    Type: String\n    Default: Locally managed\n    AllowedValues:\n      - Locally managed\n      - Over the internet\n  GatewaysInstanceType:\n    Type: String\n    Default: c5.xlarge\n    AllowedValues:\n      - c5.large\n      - c5.xlarge\n      - c5.2xlarge\n      - c5.4xlarge\n      - c5.9xlarge\n      - c5.18xlarge\n      - c5n.large\n      - c5n.xlarge\n      - c5n.2xlarge\n      - c5n.4xlarge\n      - c5n.9xlarge\n      - c5n.18xlarge\n    ConstraintDescription: Must be a valid EC2 instance type\n  GatewaysMinSize:\n    Description: The minimal number of Security Gateways\n    Default: 2\n    Type: Number\n    MinValue: 1\n  GatewaysMaxSize:\n    Description: The maximal number of Security Gateways\n    Default: 5\n    Type: Number\n    MinValue: 1\n  AdminEmail:\n    Description: Notifications about scaling events will be sent to this email address (optional)\n    Type: String\n    Default: ''\n    AllowedPattern: (|([a-zA-Z0-9_\\-\\.]+)@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.)|(([a-zA-Z0-9\\-]+\\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\\]?))\n    ConstraintDescription: Must be a valid email address\n  GatewaysBlades:\n    Description: Turn on/off the Identity Awareness, CloudGuard Controller, Intrusion Prevention System, Application Control, Anti-Virus and Anti-Bot Blades (these and additional Blades can be manually turned on or off later)\n    Type: String\n    AllowedValues:\n      - 'On'\n      - 'Off'\n    Default: 'On'\n  GatewaysLicense:\n    Type: String\n    Default: R80.30-PAYG-NGTP\n    AllowedValues:\n      - R80.20-BYOL\n      - R80.20-PAYG-NGTP\n      - R80.20-PAYG-NGTX\n      - R80.30-BYOL\n      - R80.30-PAYG-NGTP\n      - R80.30-PAYG-NGTX\n      - R80.40-BYOL\n      - R80.40-PAYG-NGTP\n      - R80.40-PAYG-NGTX\n  GatewaysPasswordHash:\n    Description: Admin user's password hash (use command \"openssl passwd -1 PASSWORD\" to get the PASSWORD's hash) (optional)\n    Type: String\n    Default: ''\n    AllowedPattern: '[\\$\\./a-zA-Z0-9]*'\n    NoEcho: true\n  GatewaysSIC:\n    Description: The Secure Internal Communication key creates trusted connections between Check Point components. Choose a random string consisting of at least 8 alphanumeric characters\n    NoEcho: true\n    MinLength: 8\n    Type: String\n    AllowedPattern: '[a-zA-Z0-9]*'\n    ConstraintDescription: Secure Internal Communication activation key should contain only alpha numeric characters and be at least 8 characters long\n  EnableCloudWatch:\n    Description: Report Check Point specific CloudWatch metrics\n    Type: String\n    AllowedValues:\n      - true\n      - false\n    Default: false\n  ASN:\n    Description: The organization Autonomous System Number (ASN) that identifies the routing domain for the Security Gateways\n    Type: String\n    AllowedPattern: '[0-9]*'\n    Default: 65000\n  ControlGatewayOverPrivateOrPublicAddress:\n    Description: Determines if the gateways are provisioned using their private or public address\n    Default: private\n    Type: String\n    AllowedValues:\n      - private\n      - public\n  ManagementServer:\n    Description: The name that represents the Security Management Server in the automatic provisioning configuration\n    Type: String\n    Default: management-server\n    MinLength: '1'\n  ConfigurationTemplate:\n    Description: A name of a gateway configuration template in the automatic provisioning configuration\n    Type: String\n    Default: TGW-ASG-configuration\n    MinLength: '1'\n  Name:\n    Description: (optional)\n    Type: String\n    Default: Check-Point-Gateway\n  Shell:\n    Description: Change the admin shell to enable advanced command line configuration\n    Type: String\n    Default: /etc/cli.sh\n    AllowedValues:\n      - /etc/cli.sh\n      - /bin/bash\n      - /bin/csh\n      - /bin/tcsh\n  AllowUploadDownload:\n    Description: Automatically download Blade Contracts and other important data. Improve product experience by sending data to Check Point\n    Type: String\n    Default: 'Yes'\n    AllowedValues:\n      - 'Yes'\n      - 'No'\nConditions:\n  3AZs: !Or\n    - !Equals\n      - !Ref NumberOfAZs\n      - 3\n    - !Equals\n      - !Ref NumberOfAZs\n      - 4\n  4AZs: !Equals\n    - !Ref NumberOfAZs\n    - 4\n  DeployManagement: !Equals\n    - !Ref ManagementDeploy\n    - 'Yes'\nResources:\n  VPCStack:\n    Type: AWS::CloudFormation::Stack\n    Properties:\n      TemplateURL: https://s3.amazonaws.com/CloudFormationTemplate/vpc.yaml\n      Parameters:\n        VPCCIDR: !Ref VpcCidr\n        AvailabilityZones: !Join\n          - ','\n          - !Ref AvailabilityZones\n        NumberOfAZs: !Ref NumberOfAZs\n        PublicSubnet1CIDR: !Ref PublicSubnetCidrA\n        PublicSubnet2CIDR: !Ref PublicSubnetCidrB\n        PublicSubnet3CIDR: !Ref PublicSubnetCidrC\n        PublicSubnet4CIDR: !Ref PublicSubnetCidrD\n        CreatePrivateSubnets: false\n  MainStack:\n    Type: AWS::CloudFormation::Stack\n    Properties:\n      TemplateURL: https://s3.amazonaws.com/CloudFormationTemplate/checkpoint-tgw-asg.yaml\n      Parameters:\n        VPC: !GetAtt\n          - VPCStack\n          - Outputs.VPCID\n        AdminEmail: !Ref AdminEmail\n        KeyPairName: !Ref KeyPairName\n        EnableInstanceConnect: !Ref EnableInstanceConnect\n        ManagementDeploy: !Ref ManagementDeploy\n        ManagementPermissions: !Ref ManagementPermissions\n        PredefinedRole: !Ref PredefinedRole\n        Subnets: !Join\n          - ','\n          - - !GetAtt\n              - VPCStack\n              - Outputs.PublicSubnet1ID\n            - !GetAtt\n              - VPCStack\n              - Outputs.PublicSubnet2ID\n            - !If\n              - 3AZs\n              - !GetAtt\n                - VPCStack\n                - Outputs.PublicSubnet3ID\n              - !Ref AWS::NoValue\n            - !If\n              - 4AZs\n              - !GetAtt\n                - VPCStack\n                - Outputs.PublicSubnet4ID\n              - !Ref AWS::NoValue\n        GatewaysInstanceType: !Ref GatewaysInstanceType\n        GatewaysMinSize: !Ref GatewaysMinSize\n        GatewaysMaxSize: !Ref GatewaysMaxSize\n        GatewaysBlades: !Ref GatewaysBlades\n        GatewaysLicense: !Ref GatewaysLicense\n        GatewaysPasswordHash: !Ref GatewaysPasswordHash\n        GatewaysSIC: !Ref GatewaysSIC\n        EnableCloudWatch: !Ref EnableCloudWatch\n        AllowUploadDownload: !Ref AllowUploadDownload\n        ManagementInstanceType: !Ref ManagementInstanceType\n        ManagementLicense: !Ref ManagementLicense\n        ManagementPasswordHash: !Ref ManagementPasswordHash\n        AdminAddressCIDR: !Ref AdminAddressCIDR\n        GatewaysAddresses: !Ref GatewaysAddresses\n        GatewayManagement: !Ref GatewayManagement\n        ManagementServer: !Ref ManagementServer\n        ConfigurationTemplate: !Ref ConfigurationTemplate\n        Shell: !Ref Shell\n        Name: !Ref Name\n        ControlGatewayOverPrivateOrPublicAddress: !Ref ControlGatewayOverPrivateOrPublicAddress\n        ASN: !Ref ASN\nOutputs:\n  ManagementName:\n    Description: The name that represents the Security Management Server\n    Value: !Ref ManagementServer\n  ConfigurationTemplateName:\n    Description: The name that represents the configuration template. Configurations required to automatically provision the Gateways in the Auto Scaling Group, such as what Security Policy to install and which Blades to enable, will be placed under this template name\n    Value: !Ref ConfigurationTemplate\n  ControllerName:\n    Description: The name that represents the controller. Configurations required to connect to your AWS environment, such as credentials and regions, will be placed under this controller name\n    Value: !GetAtt\n      - MainStack\n      - Outputs.ControllerName\n  ManagementPublicAddress:\n    Description: The public address of the management servers\n    Value: !GetAtt\n      - MainStack\n      - Outputs.ManagementPublicAddress\n    Condition: DeployManagement\n",
            "template_url": "https://s3.amazonaws.com/CloudFormationTemplate/checkpoint-tgw-asg-master.yaml",
            "timeout_in_minutes": 50,
            "timeouts": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInVwZGF0ZSI6MTgwMDAwMDAwMDAwMH19",
          "dependencies": [
            "data.aws_availability_zones.azs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ec2_transit_gateway",
      "name": "transit_gateway",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "amazon_side_asn": 64512,
            "arn": "arn:aws:ec2:ap-southeast-2:157151771343:transit-gateway/tgw-011d7cb94a1aa50b8",
            "association_default_route_table_id": "",
            "auto_accept_shared_attachments": "enable",
            "default_route_table_association": "disable",
            "default_route_table_propagation": "disable",
            "description": "CP-TGW",
            "dns_support": "enable",
            "id": "tgw-011d7cb94a1aa50b8",
            "owner_id": "157151771343",
            "propagation_default_route_table_id": "",
            "tags": {
              "Name": "CP-TGW",
              "x-chkp-vpn": "mgmt-aws/tgw-community"
            },
            "vpn_ecmp_support": "enable"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ec2_transit_gateway_route_table",
      "name": "checkpoint_inbound_transit_gateway_route_table",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "default_association_route_table": false,
            "default_propagation_route_table": false,
            "id": "tgw-rtb-02e908184973aff46",
            "tags": {
              "Name": "CP-TGW-TransitGW-Inbound-CheckPoint-Route-Table"
            },
            "transit_gateway_id": "tgw-011d7cb94a1aa50b8"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ec2_transit_gateway_route_table",
      "name": "checkpoint_management_transit_gateway_route_table",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "default_association_route_table": false,
            "default_propagation_route_table": false,
            "id": "tgw-rtb-0e88de1458d91716e",
            "tags": {
              "Name": "CP-TGW-TransitGW-Management-CheckPoint-Route-Table"
            },
            "transit_gateway_id": "tgw-011d7cb94a1aa50b8"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ec2_transit_gateway_route_table",
      "name": "checkpoint_outbound_transit_gateway_route_table",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "default_association_route_table": false,
            "default_propagation_route_table": false,
            "id": "tgw-rtb-08dff449110452c44",
            "tags": {
              "Name": "CP-TGW-TransitGW-Outbound-CheckPoint-Route-Table",
              "x-chkp-vpn": "mgmt-aws/tgw-community/associate"
            },
            "transit_gateway_id": "tgw-011d7cb94a1aa50b8"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ec2_transit_gateway_route_table",
      "name": "spoke_inbound_transit_gateway_route_table",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "default_association_route_table": false,
            "default_propagation_route_table": false,
            "id": "tgw-rtb-005764c691c1cb755",
            "tags": {
              "Name": "CP-TGW-TransitGW-Inbound-Spoke-Route-Table",
              "x-chkp-vpn": "mgmt-aws/tgw-community/propagate"
            },
            "transit_gateway_id": "tgw-011d7cb94a1aa50b8"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ec2_transit_gateway_route_table",
      "name": "spoke_to_internet_transit_gateway_route_table",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "default_association_route_table": false,
            "default_propagation_route_table": false,
            "id": "tgw-rtb-0d7620fed804c46d0",
            "tags": {
              "Name": "CP-TGW-TransitGW-Outbound-Spoke-Route-Table",
              "x-chkp-vpn": "mgmt-aws/tgw-community/propagate"
            },
            "transit_gateway_id": "tgw-011d7cb94a1aa50b8"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ec2_transit_gateway_route_table_association",
      "name": "checkpoint_inbound_transit_gateway_route_table_association",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "tgw-rtb-02e908184973aff46_tgw-attach-01815ff000f6a52cf",
            "resource_id": "vpc-0ee123db291670666",
            "resource_type": "vpc",
            "transit_gateway_attachment_id": "tgw-attach-01815ff000f6a52cf",
            "transit_gateway_route_table_id": "tgw-rtb-02e908184973aff46"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway",
            "aws_ec2_transit_gateway_route_table.checkpoint_inbound_transit_gateway_route_table",
            "aws_ec2_transit_gateway_vpc_attachment.inbound_transit_gateway_vpc_attachment",
            "aws_subnet.inbound_subnet",
            "aws_vpc.inbound_vpc",
            "data.aws_availability_zones.azs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ec2_transit_gateway_route_table_association",
      "name": "checkpoint_management_transit_gateway_route_table_association",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "tgw-rtb-0e88de1458d91716e_tgw-attach-0389649cff8af103c",
            "resource_id": "vpc-02affff7ae45ed230",
            "resource_type": "vpc",
            "transit_gateway_attachment_id": "tgw-attach-0389649cff8af103c",
            "transit_gateway_route_table_id": "tgw-rtb-0e88de1458d91716e"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway",
            "aws_ec2_transit_gateway_route_table.checkpoint_management_transit_gateway_route_table",
            "aws_ec2_transit_gateway_vpc_attachment.management_transit_gateway_vpc_attachment",
            "aws_subnet.management_subnet",
            "aws_vpc.management_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ec2_transit_gateway_route_table_association",
      "name": "checkpoint_outbound_transit_gateway_route_table_association",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "tgw-rtb-0e88de1458d91716e_tgw-attach-09881c10334f3ac1f",
            "resource_id": "vpc-0b04ed93c7c0b4186",
            "resource_type": "vpc",
            "transit_gateway_attachment_id": "tgw-attach-09881c10334f3ac1f",
            "transit_gateway_route_table_id": "tgw-rtb-0e88de1458d91716e"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_cloudformation_stack.checkpoint_tgw_cloudformation_stack",
            "aws_ec2_transit_gateway.transit_gateway",
            "aws_ec2_transit_gateway_route_table.checkpoint_management_transit_gateway_route_table",
            "aws_ec2_transit_gateway_vpc_attachment.outbound_transit_gateway_vpc_attachment",
            "data.aws_availability_zones.azs",
            "data.aws_subnet.outbound_subnet",
            "data.aws_subnet_ids.outbound_subnet_ids",
            "data.aws_vpc.data_outbound_asg_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ec2_transit_gateway_route_table_association",
      "name": "spoke_1_transit_gateway_route_table_association",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "tgw-rtb-005764c691c1cb755_tgw-attach-0971f85a2cfd74558",
            "resource_id": "vpc-02708a3331b9aaf1e",
            "resource_type": "vpc",
            "transit_gateway_attachment_id": "tgw-attach-0971f85a2cfd74558",
            "transit_gateway_route_table_id": "tgw-rtb-005764c691c1cb755"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway",
            "aws_ec2_transit_gateway_route_table.spoke_inbound_transit_gateway_route_table",
            "aws_ec2_transit_gateway_vpc_attachment.spoke_1_transit_gateway_vpc_attachment",
            "aws_subnet.spoke_1_external_subnet",
            "aws_vpc.spoke_1_vpc",
            "data.aws_availability_zones.azs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ec2_transit_gateway_route_table_association",
      "name": "spoke_1a_transit_gateway_route_table_association",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "tgw-rtb-005764c691c1cb755_tgw-attach-027b4cac07382c18e",
            "resource_id": "vpc-0ef232ef82709baf0",
            "resource_type": "vpc",
            "transit_gateway_attachment_id": "tgw-attach-027b4cac07382c18e",
            "transit_gateway_route_table_id": "tgw-rtb-005764c691c1cb755"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway",
            "aws_ec2_transit_gateway_route_table.spoke_inbound_transit_gateway_route_table",
            "aws_ec2_transit_gateway_vpc_attachment.spoke_1a_transit_gateway_vpc_attachment",
            "aws_subnet.spoke_1a_external_subnet",
            "aws_vpc.spoke_1a_vpc",
            "data.aws_availability_zones.azs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ec2_transit_gateway_route_table_association",
      "name": "spoke_2_transit_gateway_route_table_association",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "tgw-rtb-0d7620fed804c46d0_tgw-attach-091d61a646ffe1369",
            "resource_id": "vpc-016cb676105a6b3e0",
            "resource_type": "vpc",
            "transit_gateway_attachment_id": "tgw-attach-091d61a646ffe1369",
            "transit_gateway_route_table_id": "tgw-rtb-0d7620fed804c46d0"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway",
            "aws_ec2_transit_gateway_route_table.spoke_to_internet_transit_gateway_route_table",
            "aws_ec2_transit_gateway_vpc_attachment.spoke_2_transit_gateway_vpc_attachment",
            "aws_subnet.spoke_2_external_subnet",
            "aws_vpc.spoke_2_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ec2_transit_gateway_route_table_propagation",
      "name": "checkpoint_inbound_transit_gateway_route_table_propagation",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "tgw-rtb-005764c691c1cb755_tgw-attach-01815ff000f6a52cf",
            "resource_id": "vpc-0ee123db291670666",
            "resource_type": "vpc",
            "transit_gateway_attachment_id": "tgw-attach-01815ff000f6a52cf",
            "transit_gateway_route_table_id": "tgw-rtb-005764c691c1cb755"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway",
            "aws_ec2_transit_gateway_route_table.spoke_inbound_transit_gateway_route_table",
            "aws_ec2_transit_gateway_vpc_attachment.inbound_transit_gateway_vpc_attachment",
            "aws_subnet.inbound_subnet",
            "aws_vpc.inbound_vpc",
            "data.aws_availability_zones.azs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ec2_transit_gateway_route_table_propagation",
      "name": "inbound_management_transit_gateway_route_table_propagation",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "tgw-rtb-02e908184973aff46_tgw-attach-0389649cff8af103c",
            "resource_id": "vpc-02affff7ae45ed230",
            "resource_type": "vpc",
            "transit_gateway_attachment_id": "tgw-attach-0389649cff8af103c",
            "transit_gateway_route_table_id": "tgw-rtb-02e908184973aff46"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway",
            "aws_ec2_transit_gateway_route_table.checkpoint_inbound_transit_gateway_route_table",
            "aws_ec2_transit_gateway_vpc_attachment.management_transit_gateway_vpc_attachment",
            "aws_subnet.management_subnet",
            "aws_vpc.management_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ec2_transit_gateway_route_table_propagation",
      "name": "management_inbound_transit_gateway_route_table_propagation",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "tgw-rtb-0e88de1458d91716e_tgw-attach-01815ff000f6a52cf",
            "resource_id": "vpc-0ee123db291670666",
            "resource_type": "vpc",
            "transit_gateway_attachment_id": "tgw-attach-01815ff000f6a52cf",
            "transit_gateway_route_table_id": "tgw-rtb-0e88de1458d91716e"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway",
            "aws_ec2_transit_gateway_route_table.checkpoint_management_transit_gateway_route_table",
            "aws_ec2_transit_gateway_vpc_attachment.inbound_transit_gateway_vpc_attachment",
            "aws_subnet.inbound_subnet",
            "aws_vpc.inbound_vpc",
            "data.aws_availability_zones.azs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ec2_transit_gateway_route_table_propagation",
      "name": "management_outbound_transit_gateway_route_table_propagation",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "tgw-rtb-0e88de1458d91716e_tgw-attach-09881c10334f3ac1f",
            "resource_id": "vpc-0b04ed93c7c0b4186",
            "resource_type": "vpc",
            "transit_gateway_attachment_id": "tgw-attach-09881c10334f3ac1f",
            "transit_gateway_route_table_id": "tgw-rtb-0e88de1458d91716e"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_cloudformation_stack.checkpoint_tgw_cloudformation_stack",
            "aws_ec2_transit_gateway.transit_gateway",
            "aws_ec2_transit_gateway_route_table.checkpoint_management_transit_gateway_route_table",
            "aws_ec2_transit_gateway_vpc_attachment.outbound_transit_gateway_vpc_attachment",
            "data.aws_availability_zones.azs",
            "data.aws_subnet.outbound_subnet",
            "data.aws_subnet_ids.outbound_subnet_ids",
            "data.aws_vpc.data_outbound_asg_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ec2_transit_gateway_route_table_propagation",
      "name": "outbound_management_transit_gateway_route_table_propagation",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "tgw-rtb-0e88de1458d91716e_tgw-attach-0389649cff8af103c",
            "resource_id": "vpc-02affff7ae45ed230",
            "resource_type": "vpc",
            "transit_gateway_attachment_id": "tgw-attach-0389649cff8af103c",
            "transit_gateway_route_table_id": "tgw-rtb-0e88de1458d91716e"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway",
            "aws_ec2_transit_gateway_route_table.checkpoint_management_transit_gateway_route_table",
            "aws_ec2_transit_gateway_vpc_attachment.management_transit_gateway_vpc_attachment",
            "aws_subnet.management_subnet",
            "aws_vpc.management_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ec2_transit_gateway_route_table_propagation",
      "name": "spoke_1_inbound_transit_gateway_route_table_propagation",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "tgw-rtb-02e908184973aff46_tgw-attach-0971f85a2cfd74558",
            "resource_id": "vpc-02708a3331b9aaf1e",
            "resource_type": "vpc",
            "transit_gateway_attachment_id": "tgw-attach-0971f85a2cfd74558",
            "transit_gateway_route_table_id": "tgw-rtb-02e908184973aff46"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway",
            "aws_ec2_transit_gateway_route_table.checkpoint_inbound_transit_gateway_route_table",
            "aws_ec2_transit_gateway_vpc_attachment.spoke_1_transit_gateway_vpc_attachment",
            "aws_subnet.spoke_1_external_subnet",
            "aws_vpc.spoke_1_vpc",
            "data.aws_availability_zones.azs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ec2_transit_gateway_route_table_propagation",
      "name": "spoke_1_outbound_transit_gateway_route_table_propagation",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "tgw-rtb-08dff449110452c44_tgw-attach-0971f85a2cfd74558",
            "resource_id": "vpc-02708a3331b9aaf1e",
            "resource_type": "vpc",
            "transit_gateway_attachment_id": "tgw-attach-0971f85a2cfd74558",
            "transit_gateway_route_table_id": "tgw-rtb-08dff449110452c44"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway",
            "aws_ec2_transit_gateway_route_table.checkpoint_outbound_transit_gateway_route_table",
            "aws_ec2_transit_gateway_vpc_attachment.spoke_1_transit_gateway_vpc_attachment",
            "aws_subnet.spoke_1_external_subnet",
            "aws_vpc.spoke_1_vpc",
            "data.aws_availability_zones.azs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ec2_transit_gateway_route_table_propagation",
      "name": "spoke_1a_inbound_transit_gateway_route_table_propagation",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "tgw-rtb-02e908184973aff46_tgw-attach-027b4cac07382c18e",
            "resource_id": "vpc-0ef232ef82709baf0",
            "resource_type": "vpc",
            "transit_gateway_attachment_id": "tgw-attach-027b4cac07382c18e",
            "transit_gateway_route_table_id": "tgw-rtb-02e908184973aff46"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway",
            "aws_ec2_transit_gateway_route_table.checkpoint_inbound_transit_gateway_route_table",
            "aws_ec2_transit_gateway_vpc_attachment.spoke_1a_transit_gateway_vpc_attachment",
            "aws_subnet.spoke_1a_external_subnet",
            "aws_vpc.spoke_1a_vpc",
            "data.aws_availability_zones.azs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ec2_transit_gateway_route_table_propagation",
      "name": "spoke_1a_outbound_transit_gateway_route_table_propagation",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "tgw-rtb-08dff449110452c44_tgw-attach-027b4cac07382c18e",
            "resource_id": "vpc-0ef232ef82709baf0",
            "resource_type": "vpc",
            "transit_gateway_attachment_id": "tgw-attach-027b4cac07382c18e",
            "transit_gateway_route_table_id": "tgw-rtb-08dff449110452c44"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway",
            "aws_ec2_transit_gateway_route_table.checkpoint_outbound_transit_gateway_route_table",
            "aws_ec2_transit_gateway_vpc_attachment.spoke_1a_transit_gateway_vpc_attachment",
            "aws_subnet.spoke_1a_external_subnet",
            "aws_vpc.spoke_1a_vpc",
            "data.aws_availability_zones.azs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ec2_transit_gateway_route_table_propagation",
      "name": "spoke_2_outbound_transit_gateway_route_table_propagation",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "tgw-rtb-08dff449110452c44_tgw-attach-091d61a646ffe1369",
            "resource_id": "vpc-016cb676105a6b3e0",
            "resource_type": "vpc",
            "transit_gateway_attachment_id": "tgw-attach-091d61a646ffe1369",
            "transit_gateway_route_table_id": "tgw-rtb-08dff449110452c44"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway",
            "aws_ec2_transit_gateway_route_table.checkpoint_outbound_transit_gateway_route_table",
            "aws_ec2_transit_gateway_vpc_attachment.spoke_2_transit_gateway_vpc_attachment",
            "aws_subnet.spoke_2_external_subnet",
            "aws_vpc.spoke_2_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ec2_transit_gateway_vpc_attachment",
      "name": "inbound_transit_gateway_vpc_attachment",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "dns_support": "enable",
            "id": "tgw-attach-01815ff000f6a52cf",
            "ipv6_support": "disable",
            "subnet_ids": [
              "subnet-007bac7b01e36ca34",
              "subnet-03818eb6071b274d6",
              "subnet-0fc164747852b3b71"
            ],
            "tags": {
              "Name": "CP-TGW-Inbound-TGW-Attachment"
            },
            "transit_gateway_default_route_table_association": false,
            "transit_gateway_default_route_table_propagation": false,
            "transit_gateway_id": "tgw-011d7cb94a1aa50b8",
            "vpc_id": "vpc-0ee123db291670666",
            "vpc_owner_id": "157151771343"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway",
            "aws_subnet.inbound_subnet",
            "aws_vpc.inbound_vpc",
            "data.aws_availability_zones.azs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ec2_transit_gateway_vpc_attachment",
      "name": "management_transit_gateway_vpc_attachment",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "dns_support": "enable",
            "id": "tgw-attach-0389649cff8af103c",
            "ipv6_support": "disable",
            "subnet_ids": [
              "subnet-09c46ae09bb6f084c"
            ],
            "tags": {
              "Name": "CP-TGW-Management-TGW-Attachment"
            },
            "transit_gateway_default_route_table_association": false,
            "transit_gateway_default_route_table_propagation": false,
            "transit_gateway_id": "tgw-011d7cb94a1aa50b8",
            "vpc_id": "vpc-02affff7ae45ed230",
            "vpc_owner_id": "157151771343"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway",
            "aws_subnet.management_subnet",
            "aws_vpc.management_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ec2_transit_gateway_vpc_attachment",
      "name": "outbound_transit_gateway_vpc_attachment",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "dns_support": "enable",
            "id": "tgw-attach-09881c10334f3ac1f",
            "ipv6_support": "disable",
            "subnet_ids": [
              "subnet-05a5f23a5d7850420",
              "subnet-098152c385dd1b0fc",
              "subnet-0a7cd1cb23b694b8d"
            ],
            "tags": {
              "Name": "CP-TGW-Outbound-TGW-Attachment"
            },
            "transit_gateway_default_route_table_association": false,
            "transit_gateway_default_route_table_propagation": false,
            "transit_gateway_id": "tgw-011d7cb94a1aa50b8",
            "vpc_id": "vpc-0b04ed93c7c0b4186",
            "vpc_owner_id": "157151771343"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_cloudformation_stack.checkpoint_tgw_cloudformation_stack",
            "aws_ec2_transit_gateway.transit_gateway",
            "data.aws_availability_zones.azs",
            "data.aws_subnet.outbound_subnet",
            "data.aws_subnet_ids.outbound_subnet_ids",
            "data.aws_vpc.data_outbound_asg_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ec2_transit_gateway_vpc_attachment",
      "name": "spoke_1_transit_gateway_vpc_attachment",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "dns_support": "enable",
            "id": "tgw-attach-0971f85a2cfd74558",
            "ipv6_support": "disable",
            "subnet_ids": [
              "subnet-0009323285a0bcf2c",
              "subnet-0456b45ed9ef12985",
              "subnet-0f8f43e1235a70c53"
            ],
            "tags": {
              "Name": "CP-TGW-Spoke-1-TGW-Attachment"
            },
            "transit_gateway_default_route_table_association": false,
            "transit_gateway_default_route_table_propagation": false,
            "transit_gateway_id": "tgw-011d7cb94a1aa50b8",
            "vpc_id": "vpc-02708a3331b9aaf1e",
            "vpc_owner_id": "157151771343"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway",
            "aws_subnet.spoke_1_external_subnet",
            "aws_vpc.spoke_1_vpc",
            "data.aws_availability_zones.azs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ec2_transit_gateway_vpc_attachment",
      "name": "spoke_1a_transit_gateway_vpc_attachment",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "dns_support": "enable",
            "id": "tgw-attach-027b4cac07382c18e",
            "ipv6_support": "disable",
            "subnet_ids": [
              "subnet-01ea68e1d13ae90ac",
              "subnet-0914677997ab580fd",
              "subnet-0f1bb02c297e12047"
            ],
            "tags": {
              "Name": "CP-TGW-Spoke-1a-TGW-Attachment"
            },
            "transit_gateway_default_route_table_association": false,
            "transit_gateway_default_route_table_propagation": false,
            "transit_gateway_id": "tgw-011d7cb94a1aa50b8",
            "vpc_id": "vpc-0ef232ef82709baf0",
            "vpc_owner_id": "157151771343"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway",
            "aws_subnet.spoke_1a_external_subnet",
            "aws_vpc.spoke_1a_vpc",
            "data.aws_availability_zones.azs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ec2_transit_gateway_vpc_attachment",
      "name": "spoke_2_transit_gateway_vpc_attachment",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "dns_support": "enable",
            "id": "tgw-attach-091d61a646ffe1369",
            "ipv6_support": "disable",
            "subnet_ids": [
              "subnet-0688dbc659250c49c"
            ],
            "tags": {
              "Name": "CP-TGW-Spoke-2-TGW-Attachment"
            },
            "transit_gateway_default_route_table_association": false,
            "transit_gateway_default_route_table_propagation": false,
            "transit_gateway_id": "tgw-011d7cb94a1aa50b8",
            "vpc_id": "vpc-016cb676105a6b3e0",
            "vpc_owner_id": "157151771343"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway",
            "aws_subnet.spoke_2_external_subnet",
            "aws_vpc.spoke_2_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_instance",
      "name": "spoke_1_instance",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "ami": "ami-0caee806a0c3782c4",
            "arn": "arn:aws:ec2:ap-southeast-2:157151771343:instance/i-042fd6f36ab6e910a",
            "associate_public_ip_address": false,
            "availability_zone": "ap-southeast-2a",
            "cpu_core_count": 1,
            "cpu_threads_per_core": 2,
            "credit_specification": [
              {
                "cpu_credits": "unlimited"
              }
            ],
            "disable_api_termination": false,
            "ebs_block_device": [],
            "ebs_optimized": false,
            "ephemeral_block_device": [],
            "get_password_data": false,
            "hibernation": false,
            "host_id": null,
            "iam_instance_profile": "",
            "id": "i-042fd6f36ab6e910a",
            "instance_initiated_shutdown_behavior": null,
            "instance_state": "running",
            "instance_type": "t3a.nano",
            "ipv6_address_count": 0,
            "ipv6_addresses": [],
            "key_name": "AWS R8010 Management",
            "metadata_options": [
              {
                "http_endpoint": "enabled",
                "http_put_response_hop_limit": 1,
                "http_tokens": "optional"
              }
            ],
            "monitoring": false,
            "network_interface": [],
            "network_interface_id": null,
            "outpost_arn": "",
            "password_data": "",
            "placement_group": "",
            "primary_network_interface_id": "eni-09ac1caadbada7b74",
            "private_dns": "ip-10-110-100-70.ap-southeast-2.compute.internal",
            "private_ip": "10.110.100.70",
            "public_dns": "",
            "public_ip": "",
            "root_block_device": [
              {
                "delete_on_termination": true,
                "device_name": "/dev/sda1",
                "encrypted": false,
                "iops": 100,
                "kms_key_id": "",
                "volume_id": "vol-029d1d76b5a0354d7",
                "volume_size": 8,
                "volume_type": "gp2"
              }
            ],
            "security_groups": [],
            "source_dest_check": true,
            "subnet_id": "subnet-0f8f43e1235a70c53",
            "tags": {
              "Name": "CP-TGW-Spoke-1 Web Server 1",
              "Server": "CP-TGW-Website"
            },
            "tenancy": "default",
            "timeouts": null,
            "user_data": "adad322bbb00acae7cbafb61677bbf762e30fcef",
            "user_data_base64": null,
            "volume_tags": {},
            "vpc_security_group_ids": [
              "sg-0cf52fbc12bb91e14"
            ]
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMCwidXBkYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_security_group.spoke_1_security_group",
            "aws_subnet.spoke_1_external_subnet",
            "aws_vpc.spoke_1_vpc",
            "data.aws_ami.ubuntu_ami",
            "data.aws_availability_zones.azs"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 1,
          "attributes": {
            "ami": "ami-0caee806a0c3782c4",
            "arn": "arn:aws:ec2:ap-southeast-2:157151771343:instance/i-0f40eb368720a5040",
            "associate_public_ip_address": false,
            "availability_zone": "ap-southeast-2b",
            "cpu_core_count": 1,
            "cpu_threads_per_core": 2,
            "credit_specification": [
              {
                "cpu_credits": "unlimited"
              }
            ],
            "disable_api_termination": false,
            "ebs_block_device": [],
            "ebs_optimized": false,
            "ephemeral_block_device": [],
            "get_password_data": false,
            "hibernation": false,
            "host_id": null,
            "iam_instance_profile": "",
            "id": "i-0f40eb368720a5040",
            "instance_initiated_shutdown_behavior": null,
            "instance_state": "running",
            "instance_type": "t3a.nano",
            "ipv6_address_count": 0,
            "ipv6_addresses": [],
            "key_name": "AWS R8010 Management",
            "metadata_options": [
              {
                "http_endpoint": "enabled",
                "http_put_response_hop_limit": 1,
                "http_tokens": "optional"
              }
            ],
            "monitoring": false,
            "network_interface": [],
            "network_interface_id": null,
            "outpost_arn": "",
            "password_data": "",
            "placement_group": "",
            "primary_network_interface_id": "eni-0503b08fd4d0c434b",
            "private_dns": "ip-10-110-101-236.ap-southeast-2.compute.internal",
            "private_ip": "10.110.101.236",
            "public_dns": "",
            "public_ip": "",
            "root_block_device": [
              {
                "delete_on_termination": true,
                "device_name": "/dev/sda1",
                "encrypted": false,
                "iops": 100,
                "kms_key_id": "",
                "volume_id": "vol-0085b1306c2819e25",
                "volume_size": 8,
                "volume_type": "gp2"
              }
            ],
            "security_groups": [],
            "source_dest_check": true,
            "subnet_id": "subnet-0456b45ed9ef12985",
            "tags": {
              "Name": "CP-TGW-Spoke-1 Web Server 2",
              "Server": "CP-TGW-Website"
            },
            "tenancy": "default",
            "timeouts": null,
            "user_data": "86ca652818ba41f2a3e4ac0c8e8824cd75223916",
            "user_data_base64": null,
            "volume_tags": {},
            "vpc_security_group_ids": [
              "sg-0cf52fbc12bb91e14"
            ]
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMCwidXBkYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_security_group.spoke_1_security_group",
            "aws_subnet.spoke_1_external_subnet",
            "aws_vpc.spoke_1_vpc",
            "data.aws_ami.ubuntu_ami",
            "data.aws_availability_zones.azs"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 1,
          "attributes": {
            "ami": "ami-0caee806a0c3782c4",
            "arn": "arn:aws:ec2:ap-southeast-2:157151771343:instance/i-0b90f18b1c2157015",
            "associate_public_ip_address": false,
            "availability_zone": "ap-southeast-2c",
            "cpu_core_count": 1,
            "cpu_threads_per_core": 2,
            "credit_specification": [
              {
                "cpu_credits": "unlimited"
              }
            ],
            "disable_api_termination": false,
            "ebs_block_device": [],
            "ebs_optimized": false,
            "ephemeral_block_device": [],
            "get_password_data": false,
            "hibernation": false,
            "host_id": null,
            "iam_instance_profile": "",
            "id": "i-0b90f18b1c2157015",
            "instance_initiated_shutdown_behavior": null,
            "instance_state": "running",
            "instance_type": "t3a.nano",
            "ipv6_address_count": 0,
            "ipv6_addresses": [],
            "key_name": "AWS R8010 Management",
            "metadata_options": [
              {
                "http_endpoint": "enabled",
                "http_put_response_hop_limit": 1,
                "http_tokens": "optional"
              }
            ],
            "monitoring": false,
            "network_interface": [],
            "network_interface_id": null,
            "outpost_arn": "",
            "password_data": "",
            "placement_group": "",
            "primary_network_interface_id": "eni-0523750736eb14e5d",
            "private_dns": "ip-10-110-102-138.ap-southeast-2.compute.internal",
            "private_ip": "10.110.102.138",
            "public_dns": "",
            "public_ip": "",
            "root_block_device": [
              {
                "delete_on_termination": true,
                "device_name": "/dev/sda1",
                "encrypted": false,
                "iops": 100,
                "kms_key_id": "",
                "volume_id": "vol-07102546e1498c544",
                "volume_size": 8,
                "volume_type": "gp2"
              }
            ],
            "security_groups": [],
            "source_dest_check": true,
            "subnet_id": "subnet-0009323285a0bcf2c",
            "tags": {
              "Name": "CP-TGW-Spoke-1 Web Server 3",
              "Server": "CP-TGW-Website"
            },
            "tenancy": "default",
            "timeouts": null,
            "user_data": "0a40dc40351f0a57561ddbbad1688e30d701d162",
            "user_data_base64": null,
            "volume_tags": {},
            "vpc_security_group_ids": [
              "sg-0cf52fbc12bb91e14"
            ]
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMCwidXBkYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_security_group.spoke_1_security_group",
            "aws_subnet.spoke_1_external_subnet",
            "aws_vpc.spoke_1_vpc",
            "data.aws_ami.ubuntu_ami",
            "data.aws_availability_zones.azs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_instance",
      "name": "spoke_2_instance",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "ami": "ami-0caee806a0c3782c4",
            "arn": "arn:aws:ec2:ap-southeast-2:157151771343:instance/i-08a38e16ebde6f8f6",
            "associate_public_ip_address": false,
            "availability_zone": "ap-southeast-2b",
            "cpu_core_count": 1,
            "cpu_threads_per_core": 2,
            "credit_specification": [
              {
                "cpu_credits": "unlimited"
              }
            ],
            "disable_api_termination": false,
            "ebs_block_device": [],
            "ebs_optimized": false,
            "ephemeral_block_device": [],
            "get_password_data": false,
            "hibernation": false,
            "host_id": null,
            "iam_instance_profile": "",
            "id": "i-08a38e16ebde6f8f6",
            "instance_initiated_shutdown_behavior": null,
            "instance_state": "running",
            "instance_type": "t3a.nano",
            "ipv6_address_count": 0,
            "ipv6_addresses": [],
            "key_name": "AWS R8010 Management",
            "metadata_options": [
              {
                "http_endpoint": "enabled",
                "http_put_response_hop_limit": 1,
                "http_tokens": "optional"
              }
            ],
            "monitoring": false,
            "network_interface": [],
            "network_interface_id": null,
            "outpost_arn": "",
            "password_data": "",
            "placement_group": "",
            "primary_network_interface_id": "eni-06c92079e6160bd72",
            "private_dns": "ip-10-120-116-230.ap-southeast-2.compute.internal",
            "private_ip": "10.120.116.230",
            "public_dns": "",
            "public_ip": "",
            "root_block_device": [
              {
                "delete_on_termination": true,
                "device_name": "/dev/sda1",
                "encrypted": false,
                "iops": 100,
                "kms_key_id": "",
                "volume_id": "vol-0681e33ddd2015962",
                "volume_size": 8,
                "volume_type": "gp2"
              }
            ],
            "security_groups": [],
            "source_dest_check": true,
            "subnet_id": "subnet-0688dbc659250c49c",
            "tags": {
              "Dev-Test": "false",
              "Name": "CP-TGW-Spoke-2 Linux",
              "Prod-Test": "true"
            },
            "tenancy": "default",
            "timeouts": null,
            "user_data": null,
            "user_data_base64": null,
            "volume_tags": {},
            "vpc_security_group_ids": [
              "sg-02721d54c3b997df0"
            ]
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMCwidXBkYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_security_group.spoke_2_security_group",
            "aws_subnet.spoke_2_external_subnet",
            "aws_vpc.spoke_2_vpc",
            "data.aws_ami.ubuntu_ami"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_internet_gateway",
      "name": "inbound_internet_gateway",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "igw-07acf4959bff31f2d",
            "owner_id": "157151771343",
            "tags": {
              "Name": "CP-TGW-Inbound-IGW"
            },
            "vpc_id": "vpc-0ee123db291670666"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_vpc.inbound_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_internet_gateway",
      "name": "management_internet_gateway",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "igw-0ea3ca33594f20f2b",
            "owner_id": "157151771343",
            "tags": {
              "Name": "CP-TGW-Management-IGW"
            },
            "vpc_id": "vpc-02affff7ae45ed230"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_vpc.management_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb",
      "name": "external_alb",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "access_logs": [
              {
                "bucket": "",
                "enabled": false,
                "prefix": ""
              }
            ],
            "arn": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:loadbalancer/app/CP-TGW-External-ALB/ec6d5e10ec7cd8b0",
            "arn_suffix": "app/CP-TGW-External-ALB/ec6d5e10ec7cd8b0",
            "dns_name": "CP-TGW-External-ALB-731966684.ap-southeast-2.elb.amazonaws.com",
            "drop_invalid_header_fields": false,
            "enable_cross_zone_load_balancing": null,
            "enable_deletion_protection": false,
            "enable_http2": true,
            "id": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:loadbalancer/app/CP-TGW-External-ALB/ec6d5e10ec7cd8b0",
            "idle_timeout": 60,
            "internal": false,
            "ip_address_type": "ipv4",
            "load_balancer_type": "application",
            "name": "CP-TGW-External-ALB",
            "name_prefix": null,
            "security_groups": [
              "sg-08230596c20e73130"
            ],
            "subnet_mapping": [
              {
                "allocation_id": "",
                "subnet_id": "subnet-007bac7b01e36ca34"
              },
              {
                "allocation_id": "",
                "subnet_id": "subnet-03818eb6071b274d6"
              },
              {
                "allocation_id": "",
                "subnet_id": "subnet-0fc164747852b3b71"
              }
            ],
            "subnets": [
              "subnet-007bac7b01e36ca34",
              "subnet-03818eb6071b274d6",
              "subnet-0fc164747852b3b71"
            ],
            "tags": {
              "name": "CP-TGW-External-ALB"
            },
            "timeouts": null,
            "vpc_id": "vpc-0ee123db291670666",
            "zone_id": "Z1GM3OXH4ZPM65"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_security_group.ealb",
            "aws_subnet.inbound_subnet",
            "aws_vpc.inbound_vpc",
            "data.aws_availability_zones.azs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb",
      "name": "external_nlb",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "access_logs": [
              {
                "bucket": "",
                "enabled": false,
                "prefix": ""
              }
            ],
            "arn": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:loadbalancer/net/CP-TGW-External-NLB/bd95278c6bd09fa4",
            "arn_suffix": "net/CP-TGW-External-NLB/bd95278c6bd09fa4",
            "dns_name": "CP-TGW-External-NLB-bd95278c6bd09fa4.elb.ap-southeast-2.amazonaws.com",
            "drop_invalid_header_fields": null,
            "enable_cross_zone_load_balancing": false,
            "enable_deletion_protection": false,
            "enable_http2": null,
            "id": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:loadbalancer/net/CP-TGW-External-NLB/bd95278c6bd09fa4",
            "idle_timeout": null,
            "internal": false,
            "ip_address_type": "ipv4",
            "load_balancer_type": "network",
            "name": "CP-TGW-External-NLB",
            "name_prefix": null,
            "security_groups": [],
            "subnet_mapping": [
              {
                "allocation_id": "",
                "subnet_id": "subnet-007bac7b01e36ca34"
              },
              {
                "allocation_id": "",
                "subnet_id": "subnet-03818eb6071b274d6"
              },
              {
                "allocation_id": "",
                "subnet_id": "subnet-0fc164747852b3b71"
              }
            ],
            "subnets": [
              "subnet-007bac7b01e36ca34",
              "subnet-03818eb6071b274d6",
              "subnet-0fc164747852b3b71"
            ],
            "tags": {
              "name": "CP-TGW-External-NLB"
            },
            "timeouts": null,
            "vpc_id": "vpc-0ee123db291670666",
            "zone_id": "ZCT6FZBF4DROD"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_subnet.inbound_subnet",
            "aws_vpc.inbound_vpc",
            "data.aws_availability_zones.azs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb",
      "name": "external_nlb2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "access_logs": [
              {
                "bucket": "",
                "enabled": false,
                "prefix": ""
              }
            ],
            "arn": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:loadbalancer/net/CP-TGW-External-NLB2/3f5d7dab61f42d2f",
            "arn_suffix": "net/CP-TGW-External-NLB2/3f5d7dab61f42d2f",
            "dns_name": "CP-TGW-External-NLB2-3f5d7dab61f42d2f.elb.ap-southeast-2.amazonaws.com",
            "drop_invalid_header_fields": null,
            "enable_cross_zone_load_balancing": false,
            "enable_deletion_protection": false,
            "enable_http2": null,
            "id": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:loadbalancer/net/CP-TGW-External-NLB2/3f5d7dab61f42d2f",
            "idle_timeout": null,
            "internal": false,
            "ip_address_type": "ipv4",
            "load_balancer_type": "network",
            "name": "CP-TGW-External-NLB2",
            "name_prefix": null,
            "security_groups": [],
            "subnet_mapping": [
              {
                "allocation_id": "",
                "subnet_id": "subnet-007bac7b01e36ca34"
              },
              {
                "allocation_id": "",
                "subnet_id": "subnet-03818eb6071b274d6"
              },
              {
                "allocation_id": "",
                "subnet_id": "subnet-0fc164747852b3b71"
              }
            ],
            "subnets": [
              "subnet-007bac7b01e36ca34",
              "subnet-03818eb6071b274d6",
              "subnet-0fc164747852b3b71"
            ],
            "tags": {
              "name": "CP-TGW-External-NLB2"
            },
            "timeouts": null,
            "vpc_id": "vpc-0ee123db291670666",
            "zone_id": "ZCT6FZBF4DROD"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_subnet.inbound_subnet",
            "aws_vpc.inbound_vpc",
            "data.aws_availability_zones.azs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb",
      "name": "internal_aws_lb",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "access_logs": [
              {
                "bucket": "",
                "enabled": false,
                "prefix": ""
              }
            ],
            "arn": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:loadbalancer/net/CP-TGW-Internal-NLB/366132f5c7a22dcc",
            "arn_suffix": "net/CP-TGW-Internal-NLB/366132f5c7a22dcc",
            "dns_name": "CP-TGW-Internal-NLB-366132f5c7a22dcc.elb.ap-southeast-2.amazonaws.com",
            "drop_invalid_header_fields": null,
            "enable_cross_zone_load_balancing": false,
            "enable_deletion_protection": false,
            "enable_http2": null,
            "id": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:loadbalancer/net/CP-TGW-Internal-NLB/366132f5c7a22dcc",
            "idle_timeout": null,
            "internal": true,
            "ip_address_type": "ipv4",
            "load_balancer_type": "network",
            "name": "CP-TGW-Internal-NLB",
            "name_prefix": null,
            "security_groups": [],
            "subnet_mapping": [
              {
                "allocation_id": "",
                "subnet_id": "subnet-0009323285a0bcf2c"
              },
              {
                "allocation_id": "",
                "subnet_id": "subnet-0456b45ed9ef12985"
              },
              {
                "allocation_id": "",
                "subnet_id": "subnet-0f8f43e1235a70c53"
              }
            ],
            "subnets": [
              "subnet-0009323285a0bcf2c",
              "subnet-0456b45ed9ef12985",
              "subnet-0f8f43e1235a70c53"
            ],
            "tags": {
              "Environment": "CP-TGW-Internal_NLB",
              "x-chkp-forwarding": "TCP-9081-80",
              "x-chkp-management": "mgmt-aws",
              "x-chkp-template": "tgw-inbound-template"
            },
            "timeouts": null,
            "vpc_id": "vpc-02708a3331b9aaf1e",
            "zone_id": "ZCT6FZBF4DROD"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_subnet.spoke_1_external_subnet",
            "aws_vpc.spoke_1_vpc",
            "data.aws_availability_zones.azs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb_listener",
      "name": "external_alb_listener",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:listener/app/CP-TGW-External-ALB/ec6d5e10ec7cd8b0/4efd5bf718a76a2c",
            "certificate_arn": null,
            "default_action": [
              {
                "authenticate_cognito": [],
                "authenticate_oidc": [],
                "fixed_response": [],
                "order": 1,
                "redirect": [],
                "target_group_arn": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:targetgroup/CP-TGW-Ext-ALB-TG-app1/59b6f4a264ade1d1",
                "type": "forward"
              }
            ],
            "id": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:listener/app/CP-TGW-External-ALB/ec6d5e10ec7cd8b0/4efd5bf718a76a2c",
            "load_balancer_arn": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:loadbalancer/app/CP-TGW-External-ALB/ec6d5e10ec7cd8b0",
            "port": 80,
            "protocol": "HTTP",
            "ssl_policy": "",
            "timeouts": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsicmVhZCI6NjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "aws_lb.external_alb",
            "aws_lb_target_group.external_lb_tg_app1",
            "aws_security_group.ealb",
            "aws_subnet.inbound_subnet",
            "aws_vpc.inbound_vpc",
            "data.aws_availability_zones.azs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb_listener",
      "name": "external_lb_listener",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:listener/net/CP-TGW-External-NLB/bd95278c6bd09fa4/9bba523ef2417cd7",
            "certificate_arn": null,
            "default_action": [
              {
                "authenticate_cognito": [],
                "authenticate_oidc": [],
                "fixed_response": [],
                "order": 1,
                "redirect": [],
                "target_group_arn": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:targetgroup/CP-TGW-Ext-NLB-TG/1026e1837cae2237",
                "type": "forward"
              }
            ],
            "id": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:listener/net/CP-TGW-External-NLB/bd95278c6bd09fa4/9bba523ef2417cd7",
            "load_balancer_arn": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:loadbalancer/net/CP-TGW-External-NLB/bd95278c6bd09fa4",
            "port": 80,
            "protocol": "TCP",
            "ssl_policy": "",
            "timeouts": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsicmVhZCI6NjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "aws_lb.external_nlb",
            "aws_lb_target_group.external_lb_target_group",
            "aws_subnet.inbound_subnet",
            "aws_vpc.inbound_vpc",
            "data.aws_availability_zones.azs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb_listener",
      "name": "external_lb_listener2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:listener/net/CP-TGW-External-NLB2/3f5d7dab61f42d2f/5cf8aaba1c831216",
            "certificate_arn": null,
            "default_action": [
              {
                "authenticate_cognito": [],
                "authenticate_oidc": [],
                "fixed_response": [],
                "order": 1,
                "redirect": [],
                "target_group_arn": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:targetgroup/CP-TGW-Ext-NLB2-TG/e79459fca06243c6",
                "type": "forward"
              }
            ],
            "id": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:listener/net/CP-TGW-External-NLB2/3f5d7dab61f42d2f/5cf8aaba1c831216",
            "load_balancer_arn": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:loadbalancer/net/CP-TGW-External-NLB2/3f5d7dab61f42d2f",
            "port": 80,
            "protocol": "TCP",
            "ssl_policy": "",
            "timeouts": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsicmVhZCI6NjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "aws_lb.external_nlb2",
            "aws_lb_target_group.external_lb2_target_group",
            "aws_subnet.inbound_subnet",
            "aws_vpc.inbound_vpc",
            "data.aws_availability_zones.azs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb_listener",
      "name": "internal_lb_listener",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:listener/net/CP-TGW-Internal-NLB/366132f5c7a22dcc/ccd5ba9b0823b5f7",
            "certificate_arn": null,
            "default_action": [
              {
                "authenticate_cognito": [],
                "authenticate_oidc": [],
                "fixed_response": [],
                "order": 1,
                "redirect": [],
                "target_group_arn": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:targetgroup/CP-TGW-Int-NLB-TG/1fb2dbc4b462b282",
                "type": "forward"
              }
            ],
            "id": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:listener/net/CP-TGW-Internal-NLB/366132f5c7a22dcc/ccd5ba9b0823b5f7",
            "load_balancer_arn": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:loadbalancer/net/CP-TGW-Internal-NLB/366132f5c7a22dcc",
            "port": 80,
            "protocol": "TCP",
            "ssl_policy": "",
            "timeouts": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsicmVhZCI6NjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "aws_lb.internal_aws_lb",
            "aws_lb_target_group.internal_lb_target_group",
            "aws_subnet.spoke_1_external_subnet",
            "aws_vpc.spoke_1_vpc",
            "data.aws_availability_zones.azs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb_listener_rule",
      "name": "external_alb_rules",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "authenticate_cognito": [],
                "authenticate_oidc": [],
                "fixed_response": [],
                "order": 1,
                "redirect": [],
                "target_group_arn": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:targetgroup/CP-TGW-Ext-ALB-TG-app2/7ea8689d29e4a208",
                "type": "forward"
              }
            ],
            "arn": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:listener-rule/app/CP-TGW-External-ALB/ec6d5e10ec7cd8b0/4efd5bf718a76a2c/763d1afcbfd8b9d8",
            "condition": [
              {
                "field": "path-pattern",
                "host_header": [],
                "http_header": [],
                "http_request_method": [],
                "path_pattern": [
                  {
                    "values": [
                      "/app2/*"
                    ]
                  }
                ],
                "query_string": [],
                "source_ip": [],
                "values": [
                  "/app2/*"
                ]
              }
            ],
            "id": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:listener-rule/app/CP-TGW-External-ALB/ec6d5e10ec7cd8b0/4efd5bf718a76a2c/763d1afcbfd8b9d8",
            "listener_arn": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:listener/app/CP-TGW-External-ALB/ec6d5e10ec7cd8b0/4efd5bf718a76a2c",
            "priority": 90
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_lb.external_alb",
            "aws_lb_listener.external_alb_listener",
            "aws_lb_target_group.external_lb_tg_app1",
            "aws_lb_target_group.external_lb_tg_app2",
            "aws_security_group.ealb",
            "aws_subnet.inbound_subnet",
            "aws_vpc.inbound_vpc",
            "data.aws_availability_zones.azs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb_target_group",
      "name": "external_lb2_target_group",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:targetgroup/CP-TGW-Ext-NLB2-TG/e79459fca06243c6",
            "arn_suffix": "targetgroup/CP-TGW-Ext-NLB2-TG/e79459fca06243c6",
            "deregistration_delay": 300,
            "health_check": [
              {
                "enabled": true,
                "healthy_threshold": 3,
                "interval": 30,
                "matcher": "",
                "path": "",
                "port": "traffic-port",
                "protocol": "TCP",
                "timeout": 10,
                "unhealthy_threshold": 3
              }
            ],
            "id": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:targetgroup/CP-TGW-Ext-NLB2-TG/e79459fca06243c6",
            "lambda_multi_value_headers_enabled": false,
            "load_balancing_algorithm_type": null,
            "name": "CP-TGW-Ext-NLB2-TG",
            "name_prefix": null,
            "port": 9082,
            "protocol": "TCP",
            "proxy_protocol_v2": false,
            "slow_start": 0,
            "stickiness": [],
            "tags": {
              "name": "CP-TGW-Ext-NLB2-TG"
            },
            "target_type": "instance",
            "vpc_id": "vpc-0ee123db291670666"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_vpc.inbound_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb_target_group",
      "name": "external_lb_target_group",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:targetgroup/CP-TGW-Ext-NLB-TG/1026e1837cae2237",
            "arn_suffix": "targetgroup/CP-TGW-Ext-NLB-TG/1026e1837cae2237",
            "deregistration_delay": 300,
            "health_check": [
              {
                "enabled": true,
                "healthy_threshold": 3,
                "interval": 30,
                "matcher": "",
                "path": "",
                "port": "traffic-port",
                "protocol": "TCP",
                "timeout": 10,
                "unhealthy_threshold": 3
              }
            ],
            "id": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:targetgroup/CP-TGW-Ext-NLB-TG/1026e1837cae2237",
            "lambda_multi_value_headers_enabled": false,
            "load_balancing_algorithm_type": null,
            "name": "CP-TGW-Ext-NLB-TG",
            "name_prefix": null,
            "port": 9081,
            "protocol": "TCP",
            "proxy_protocol_v2": false,
            "slow_start": 0,
            "stickiness": [],
            "tags": {
              "name": "CP-TGW-Ext-NLB-TG"
            },
            "target_type": "instance",
            "vpc_id": "vpc-0ee123db291670666"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_vpc.inbound_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb_target_group",
      "name": "external_lb_tg_app1",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:targetgroup/CP-TGW-Ext-ALB-TG-app1/59b6f4a264ade1d1",
            "arn_suffix": "targetgroup/CP-TGW-Ext-ALB-TG-app1/59b6f4a264ade1d1",
            "deregistration_delay": 300,
            "health_check": [
              {
                "enabled": true,
                "healthy_threshold": 3,
                "interval": 30,
                "matcher": "200",
                "path": "/",
                "port": "traffic-port",
                "protocol": "HTTP",
                "timeout": 5,
                "unhealthy_threshold": 3
              }
            ],
            "id": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:targetgroup/CP-TGW-Ext-ALB-TG-app1/59b6f4a264ade1d1",
            "lambda_multi_value_headers_enabled": false,
            "load_balancing_algorithm_type": "round_robin",
            "name": "CP-TGW-Ext-ALB-TG-app1",
            "name_prefix": null,
            "port": 9081,
            "protocol": "HTTP",
            "proxy_protocol_v2": false,
            "slow_start": 0,
            "stickiness": [
              {
                "cookie_duration": 86400,
                "enabled": false,
                "type": "lb_cookie"
              }
            ],
            "tags": {
              "name": "CP-TGW-Ext-ALB-TG-app1"
            },
            "target_type": "instance",
            "vpc_id": "vpc-0ee123db291670666"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_vpc.inbound_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb_target_group",
      "name": "external_lb_tg_app2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:targetgroup/CP-TGW-Ext-ALB-TG-app2/7ea8689d29e4a208",
            "arn_suffix": "targetgroup/CP-TGW-Ext-ALB-TG-app2/7ea8689d29e4a208",
            "deregistration_delay": 300,
            "health_check": [
              {
                "enabled": true,
                "healthy_threshold": 3,
                "interval": 30,
                "matcher": "200",
                "path": "/",
                "port": "traffic-port",
                "protocol": "HTTP",
                "timeout": 5,
                "unhealthy_threshold": 3
              }
            ],
            "id": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:targetgroup/CP-TGW-Ext-ALB-TG-app2/7ea8689d29e4a208",
            "lambda_multi_value_headers_enabled": false,
            "load_balancing_algorithm_type": "round_robin",
            "name": "CP-TGW-Ext-ALB-TG-app2",
            "name_prefix": null,
            "port": 9082,
            "protocol": "HTTP",
            "proxy_protocol_v2": false,
            "slow_start": 0,
            "stickiness": [
              {
                "cookie_duration": 86400,
                "enabled": false,
                "type": "lb_cookie"
              }
            ],
            "tags": {
              "name": "CP-TGW-Ext-ALB-TG-app2"
            },
            "target_type": "instance",
            "vpc_id": "vpc-0ee123db291670666"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_vpc.inbound_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb_target_group",
      "name": "internal_lb_target_group",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:targetgroup/CP-TGW-Int-NLB-TG/1fb2dbc4b462b282",
            "arn_suffix": "targetgroup/CP-TGW-Int-NLB-TG/1fb2dbc4b462b282",
            "deregistration_delay": 300,
            "health_check": [
              {
                "enabled": true,
                "healthy_threshold": 3,
                "interval": 30,
                "matcher": "",
                "path": "",
                "port": "traffic-port",
                "protocol": "TCP",
                "timeout": 10,
                "unhealthy_threshold": 3
              }
            ],
            "id": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:targetgroup/CP-TGW-Int-NLB-TG/1fb2dbc4b462b282",
            "lambda_multi_value_headers_enabled": false,
            "load_balancing_algorithm_type": null,
            "name": "CP-TGW-Int-NLB-TG",
            "name_prefix": null,
            "port": 80,
            "protocol": "TCP",
            "proxy_protocol_v2": false,
            "slow_start": 0,
            "stickiness": [],
            "tags": {
              "name": "CP-TGW-Int-NLB-TG"
            },
            "target_type": "instance",
            "vpc_id": "vpc-02708a3331b9aaf1e"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_vpc.spoke_1_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb_target_group_attachment",
      "name": "internal_lb_target_group_attachment",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "availability_zone": null,
            "id": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:targetgroup/CP-TGW-Int-NLB-TG/1fb2dbc4b462b282-20200819233104775000000007",
            "port": 80,
            "target_group_arn": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:targetgroup/CP-TGW-Int-NLB-TG/1fb2dbc4b462b282",
            "target_id": "i-042fd6f36ab6e910a"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_instance.spoke_1_instance",
            "aws_lb_target_group.internal_lb_target_group",
            "aws_security_group.spoke_1_security_group",
            "aws_subnet.spoke_1_external_subnet",
            "aws_vpc.spoke_1_vpc",
            "data.aws_ami.ubuntu_ami",
            "data.aws_availability_zones.azs"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "availability_zone": null,
            "id": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:targetgroup/CP-TGW-Int-NLB-TG/1fb2dbc4b462b282-20200819233104772000000006",
            "port": 80,
            "target_group_arn": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:targetgroup/CP-TGW-Int-NLB-TG/1fb2dbc4b462b282",
            "target_id": "i-0f40eb368720a5040"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_instance.spoke_1_instance",
            "aws_lb_target_group.internal_lb_target_group",
            "aws_security_group.spoke_1_security_group",
            "aws_subnet.spoke_1_external_subnet",
            "aws_vpc.spoke_1_vpc",
            "data.aws_ami.ubuntu_ami",
            "data.aws_availability_zones.azs"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 0,
          "attributes": {
            "availability_zone": null,
            "id": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:targetgroup/CP-TGW-Int-NLB-TG/1fb2dbc4b462b282-20200819233104846900000008",
            "port": 80,
            "target_group_arn": "arn:aws:elasticloadbalancing:ap-southeast-2:157151771343:targetgroup/CP-TGW-Int-NLB-TG/1fb2dbc4b462b282",
            "target_id": "i-0b90f18b1c2157015"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_instance.spoke_1_instance",
            "aws_lb_target_group.internal_lb_target_group",
            "aws_security_group.spoke_1_security_group",
            "aws_subnet.spoke_1_external_subnet",
            "aws_vpc.spoke_1_vpc",
            "data.aws_ami.ubuntu_ami",
            "data.aws_availability_zones.azs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route",
      "name": "outbound_to_management_route",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "destination_cidr_block": "10.10.0.0/16",
            "destination_ipv6_cidr_block": null,
            "destination_prefix_list_id": "",
            "egress_only_gateway_id": "",
            "gateway_id": "",
            "id": "r-rtb-0546536e16bd3ea4a519371977",
            "instance_id": "",
            "instance_owner_id": "",
            "nat_gateway_id": "",
            "network_interface_id": "",
            "origin": "CreateRoute",
            "route_table_id": "rtb-0546536e16bd3ea4a",
            "state": "blackhole",
            "timeouts": null,
            "transit_gateway_id": "tgw-011d7cb94a1aa50b8",
            "vpc_peering_connection_id": ""
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "aws_cloudformation_stack.checkpoint_tgw_cloudformation_stack",
            "aws_ec2_transit_gateway.transit_gateway",
            "data.aws_availability_zones.azs",
            "data.aws_route_table.data_outbound_asg_route_table"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route_table",
      "name": "Management_route_table",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "rtb-0b9ca73a4b2269196",
            "owner_id": "157151771343",
            "propagating_vgws": [],
            "route": [
              {
                "cidr_block": "0.0.0.0/0",
                "egress_only_gateway_id": "",
                "gateway_id": "igw-0ea3ca33594f20f2b",
                "instance_id": "",
                "ipv6_cidr_block": "",
                "nat_gateway_id": "",
                "network_interface_id": "",
                "transit_gateway_id": "",
                "vpc_peering_connection_id": ""
              },
              {
                "cidr_block": "10.110.0.0/16",
                "egress_only_gateway_id": "",
                "gateway_id": "",
                "instance_id": "",
                "ipv6_cidr_block": "",
                "nat_gateway_id": "",
                "network_interface_id": "",
                "transit_gateway_id": "tgw-011d7cb94a1aa50b8",
                "vpc_peering_connection_id": ""
              },
              {
                "cidr_block": "10.111.0.0/16",
                "egress_only_gateway_id": "",
                "gateway_id": "",
                "instance_id": "",
                "ipv6_cidr_block": "",
                "nat_gateway_id": "",
                "network_interface_id": "",
                "transit_gateway_id": "tgw-011d7cb94a1aa50b8",
                "vpc_peering_connection_id": ""
              },
              {
                "cidr_block": "10.120.0.0/16",
                "egress_only_gateway_id": "",
                "gateway_id": "",
                "instance_id": "",
                "ipv6_cidr_block": "",
                "nat_gateway_id": "",
                "network_interface_id": "",
                "transit_gateway_id": "tgw-011d7cb94a1aa50b8",
                "vpc_peering_connection_id": ""
              },
              {
                "cidr_block": "10.20.0.0/16",
                "egress_only_gateway_id": "",
                "gateway_id": "",
                "instance_id": "",
                "ipv6_cidr_block": "",
                "nat_gateway_id": "",
                "network_interface_id": "",
                "transit_gateway_id": "tgw-011d7cb94a1aa50b8",
                "vpc_peering_connection_id": ""
              },
              {
                "cidr_block": "10.30.0.0/16",
                "egress_only_gateway_id": "",
                "gateway_id": "",
                "instance_id": "",
                "ipv6_cidr_block": "",
                "nat_gateway_id": "",
                "network_interface_id": "",
                "transit_gateway_id": "tgw-011d7cb94a1aa50b8",
                "vpc_peering_connection_id": ""
              }
            ],
            "tags": {
              "Name": "CP-TGW-Management-External-Route"
            },
            "vpc_id": "vpc-02affff7ae45ed230"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway",
            "aws_internet_gateway.management_internet_gateway",
            "aws_vpc.management_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route_table",
      "name": "inbound_route_table",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "rtb-0ff00d630d4279de8",
            "owner_id": "157151771343",
            "propagating_vgws": [],
            "route": [
              {
                "cidr_block": "0.0.0.0/0",
                "egress_only_gateway_id": "",
                "gateway_id": "igw-07acf4959bff31f2d",
                "instance_id": "",
                "ipv6_cidr_block": "",
                "nat_gateway_id": "",
                "network_interface_id": "",
                "transit_gateway_id": "",
                "vpc_peering_connection_id": ""
              },
              {
                "cidr_block": "10.10.0.0/16",
                "egress_only_gateway_id": "",
                "gateway_id": "",
                "instance_id": "",
                "ipv6_cidr_block": "",
                "nat_gateway_id": "",
                "network_interface_id": "",
                "transit_gateway_id": "tgw-011d7cb94a1aa50b8",
                "vpc_peering_connection_id": ""
              },
              {
                "cidr_block": "10.110.0.0/16",
                "egress_only_gateway_id": "",
                "gateway_id": "",
                "instance_id": "",
                "ipv6_cidr_block": "",
                "nat_gateway_id": "",
                "network_interface_id": "",
                "transit_gateway_id": "tgw-011d7cb94a1aa50b8",
                "vpc_peering_connection_id": ""
              },
              {
                "cidr_block": "10.111.0.0/16",
                "egress_only_gateway_id": "",
                "gateway_id": "",
                "instance_id": "",
                "ipv6_cidr_block": "",
                "nat_gateway_id": "",
                "network_interface_id": "",
                "transit_gateway_id": "tgw-011d7cb94a1aa50b8",
                "vpc_peering_connection_id": ""
              },
              {
                "cidr_block": "10.120.0.0/16",
                "egress_only_gateway_id": "",
                "gateway_id": "",
                "instance_id": "",
                "ipv6_cidr_block": "",
                "nat_gateway_id": "",
                "network_interface_id": "",
                "transit_gateway_id": "tgw-011d7cb94a1aa50b8",
                "vpc_peering_connection_id": ""
              }
            ],
            "tags": {
              "Name": "CP-TGW-Inbound-Route-Table"
            },
            "vpc_id": "vpc-0ee123db291670666"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway",
            "aws_internet_gateway.inbound_internet_gateway",
            "aws_vpc.inbound_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route_table",
      "name": "spoke_1_route_table",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "rtb-0573aa016ab198630",
            "owner_id": "157151771343",
            "propagating_vgws": [],
            "route": [
              {
                "cidr_block": "0.0.0.0/0",
                "egress_only_gateway_id": "",
                "gateway_id": "",
                "instance_id": "",
                "ipv6_cidr_block": "",
                "nat_gateway_id": "",
                "network_interface_id": "",
                "transit_gateway_id": "tgw-011d7cb94a1aa50b8",
                "vpc_peering_connection_id": ""
              }
            ],
            "tags": {
              "Name": "CP-TGW-Spoke-1-Route"
            },
            "vpc_id": "vpc-02708a3331b9aaf1e"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway",
            "aws_vpc.spoke_1_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route_table",
      "name": "spoke_1a_route_table",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "rtb-0d1f40cec0f2e8ad6",
            "owner_id": "157151771343",
            "propagating_vgws": [],
            "route": [
              {
                "cidr_block": "0.0.0.0/0",
                "egress_only_gateway_id": "",
                "gateway_id": "",
                "instance_id": "",
                "ipv6_cidr_block": "",
                "nat_gateway_id": "",
                "network_interface_id": "",
                "transit_gateway_id": "tgw-011d7cb94a1aa50b8",
                "vpc_peering_connection_id": ""
              }
            ],
            "tags": {
              "Name": "CP-TGW-Spoke-1a-Route"
            },
            "vpc_id": "vpc-0ef232ef82709baf0"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway",
            "aws_vpc.spoke_1a_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route_table",
      "name": "spoke_2_route_table",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "rtb-0af42f41ffaf66f28",
            "owner_id": "157151771343",
            "propagating_vgws": [],
            "route": [
              {
                "cidr_block": "0.0.0.0/0",
                "egress_only_gateway_id": "",
                "gateway_id": "",
                "instance_id": "",
                "ipv6_cidr_block": "",
                "nat_gateway_id": "",
                "network_interface_id": "",
                "transit_gateway_id": "tgw-011d7cb94a1aa50b8",
                "vpc_peering_connection_id": ""
              }
            ],
            "tags": {
              "Name": "CP-TGW-Spoke-2-Route"
            },
            "vpc_id": "vpc-016cb676105a6b3e0"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway",
            "aws_vpc.spoke_2_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "inbound_table_association",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "gateway_id": null,
            "id": "rtbassoc-0ec4d1e8b80723bc7",
            "route_table_id": "rtb-0ff00d630d4279de8",
            "subnet_id": "subnet-007bac7b01e36ca34"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway",
            "aws_internet_gateway.inbound_internet_gateway",
            "aws_route_table.inbound_route_table",
            "aws_subnet.inbound_subnet",
            "aws_vpc.inbound_vpc",
            "data.aws_availability_zones.azs"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "gateway_id": null,
            "id": "rtbassoc-0dbe43c231a94c0ac",
            "route_table_id": "rtb-0ff00d630d4279de8",
            "subnet_id": "subnet-0fc164747852b3b71"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway",
            "aws_internet_gateway.inbound_internet_gateway",
            "aws_route_table.inbound_route_table",
            "aws_subnet.inbound_subnet",
            "aws_vpc.inbound_vpc",
            "data.aws_availability_zones.azs"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 0,
          "attributes": {
            "gateway_id": null,
            "id": "rtbassoc-017c73275b669509b",
            "route_table_id": "rtb-0ff00d630d4279de8",
            "subnet_id": "subnet-03818eb6071b274d6"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway",
            "aws_internet_gateway.inbound_internet_gateway",
            "aws_route_table.inbound_route_table",
            "aws_subnet.inbound_subnet",
            "aws_vpc.inbound_vpc",
            "data.aws_availability_zones.azs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "management_table_association",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "gateway_id": null,
            "id": "rtbassoc-0048a80bb10f0714e",
            "route_table_id": "rtb-0b9ca73a4b2269196",
            "subnet_id": "subnet-09c46ae09bb6f084c"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway",
            "aws_internet_gateway.management_internet_gateway",
            "aws_route_table.Management_route_table",
            "aws_subnet.management_subnet",
            "aws_vpc.management_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "spoke-1_route_table_association",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "gateway_id": null,
            "id": "rtbassoc-0e8caa60d8a1ad6cb",
            "route_table_id": "rtb-0573aa016ab198630",
            "subnet_id": "subnet-0f8f43e1235a70c53"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway",
            "aws_route_table.spoke_1_route_table",
            "aws_subnet.spoke_1_external_subnet",
            "aws_vpc.spoke_1_vpc",
            "data.aws_availability_zones.azs"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "gateway_id": null,
            "id": "rtbassoc-01ba45931660a9f15",
            "route_table_id": "rtb-0573aa016ab198630",
            "subnet_id": "subnet-0456b45ed9ef12985"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway",
            "aws_route_table.spoke_1_route_table",
            "aws_subnet.spoke_1_external_subnet",
            "aws_vpc.spoke_1_vpc",
            "data.aws_availability_zones.azs"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 0,
          "attributes": {
            "gateway_id": null,
            "id": "rtbassoc-0f517516750618edf",
            "route_table_id": "rtb-0573aa016ab198630",
            "subnet_id": "subnet-0009323285a0bcf2c"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway",
            "aws_route_table.spoke_1_route_table",
            "aws_subnet.spoke_1_external_subnet",
            "aws_vpc.spoke_1_vpc",
            "data.aws_availability_zones.azs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "spoke-1a_route_table_association",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "gateway_id": null,
            "id": "rtbassoc-0403fafb325458689",
            "route_table_id": "rtb-0d1f40cec0f2e8ad6",
            "subnet_id": "subnet-0f1bb02c297e12047"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway",
            "aws_route_table.spoke_1a_route_table",
            "aws_subnet.spoke_1a_external_subnet",
            "aws_vpc.spoke_1a_vpc",
            "data.aws_availability_zones.azs"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "gateway_id": null,
            "id": "rtbassoc-07b6a072dc09cb9e0",
            "route_table_id": "rtb-0d1f40cec0f2e8ad6",
            "subnet_id": "subnet-0914677997ab580fd"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway",
            "aws_route_table.spoke_1a_route_table",
            "aws_subnet.spoke_1a_external_subnet",
            "aws_vpc.spoke_1a_vpc",
            "data.aws_availability_zones.azs"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 0,
          "attributes": {
            "gateway_id": null,
            "id": "rtbassoc-0d0d779edb8b7b581",
            "route_table_id": "rtb-0d1f40cec0f2e8ad6",
            "subnet_id": "subnet-01ea68e1d13ae90ac"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway",
            "aws_route_table.spoke_1a_route_table",
            "aws_subnet.spoke_1a_external_subnet",
            "aws_vpc.spoke_1a_vpc",
            "data.aws_availability_zones.azs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "spoke_2_route_table_association",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "gateway_id": null,
            "id": "rtbassoc-048fd44094230b63b",
            "route_table_id": "rtb-0af42f41ffaf66f28",
            "subnet_id": "subnet-0688dbc659250c49c"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway",
            "aws_route_table.spoke_2_route_table",
            "aws_subnet.spoke_2_external_subnet",
            "aws_vpc.spoke_2_vpc",
            "data.aws_availability_zones.azs"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "gateway_id": null,
            "id": "rtbassoc-048fd44094230b63b",
            "route_table_id": "rtb-0af42f41ffaf66f28",
            "subnet_id": "subnet-0688dbc659250c49c"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway",
            "aws_route_table.spoke_2_route_table",
            "aws_subnet.spoke_2_external_subnet",
            "aws_vpc.spoke_2_vpc",
            "data.aws_availability_zones.azs"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 0,
          "attributes": {
            "gateway_id": null,
            "id": "rtbassoc-048fd44094230b63b",
            "route_table_id": "rtb-0af42f41ffaf66f28",
            "subnet_id": "subnet-0688dbc659250c49c"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ec2_transit_gateway.transit_gateway",
            "aws_route_table.spoke_2_route_table",
            "aws_subnet.spoke_2_external_subnet",
            "aws_vpc.spoke_2_vpc",
            "data.aws_availability_zones.azs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "ealb",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:157151771343:security-group/sg-08230596c20e73130",
            "description": "load balancer security group",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "id": "sg-08230596c20e73130",
            "ingress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 443,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 443
              },
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 80,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 80
              }
            ],
            "name": "CP-TGW-Ext-LB-SG",
            "name_prefix": null,
            "owner_id": "157151771343",
            "revoke_rules_on_delete": false,
            "tags": {
              "Name": "CP-TGW-Ext-LB-SG"
            },
            "timeouts": null,
            "vpc_id": "vpc-0ee123db291670666"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "aws_vpc.inbound_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "inbound_security_group",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:157151771343:security-group/sg-0f63e6f62db82a9b2",
            "description": "Managed by Terraform",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "id": "sg-0f63e6f62db82a9b2",
            "ingress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "name": "terraform-20200819233047546300000004",
            "name_prefix": null,
            "owner_id": "157151771343",
            "revoke_rules_on_delete": false,
            "tags": {
              "Name": "CP-TGW-Inbound-SG"
            },
            "timeouts": null,
            "vpc_id": "vpc-0ee123db291670666"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "aws_vpc.inbound_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "management_security_group",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:157151771343:security-group/sg-0cba54c1f13c063d8",
            "description": "Managed by Terraform",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "id": "sg-0cba54c1f13c063d8",
            "ingress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "name": "terraform-20200819233049758300000005",
            "name_prefix": null,
            "owner_id": "157151771343",
            "revoke_rules_on_delete": false,
            "tags": {
              "Name": "CP-TGW-Management-SG"
            },
            "timeouts": null,
            "vpc_id": "vpc-02affff7ae45ed230"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "aws_vpc.management_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "spoke_1_security_group",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:157151771343:security-group/sg-0cf52fbc12bb91e14",
            "description": "Managed by Terraform",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "id": "sg-0cf52fbc12bb91e14",
            "ingress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "icmp",
                "security_groups": [],
                "self": false,
                "to_port": 0
              },
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 22,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 22
              },
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 80,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 80
              }
            ],
            "name": "terraform-20200819233046360400000001",
            "name_prefix": null,
            "owner_id": "157151771343",
            "revoke_rules_on_delete": false,
            "tags": {
              "Name": "CP-TGW-Spoke-1-SG"
            },
            "timeouts": null,
            "vpc_id": "vpc-02708a3331b9aaf1e"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "aws_vpc.spoke_1_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "spoke_1a_security_group",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:157151771343:security-group/sg-07c176aada6f26f08",
            "description": "Managed by Terraform",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "id": "sg-07c176aada6f26f08",
            "ingress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "icmp",
                "security_groups": [],
                "self": false,
                "to_port": 0
              },
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 22,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 22
              },
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 80,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 80
              }
            ],
            "name": "terraform-20200819233046393400000002",
            "name_prefix": null,
            "owner_id": "157151771343",
            "revoke_rules_on_delete": false,
            "tags": {
              "Name": "CP-TGW-Spoke-1a-SG"
            },
            "timeouts": null,
            "vpc_id": "vpc-0ef232ef82709baf0"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "aws_vpc.spoke_1a_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "spoke_2_security_group",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:157151771343:security-group/sg-02721d54c3b997df0",
            "description": "Managed by Terraform",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "id": "sg-02721d54c3b997df0",
            "ingress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "name": "terraform-20200819233047474400000003",
            "name_prefix": null,
            "owner_id": "157151771343",
            "revoke_rules_on_delete": false,
            "tags": {
              "Name": "CP-TGW-Spoke-2-SG"
            },
            "timeouts": null,
            "vpc_id": "vpc-016cb676105a6b3e0"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "aws_vpc.spoke_2_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_subnet",
      "name": "inbound_subnet",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:157151771343:subnet/subnet-007bac7b01e36ca34",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "ap-southeast-2a",
            "availability_zone_id": "apse2-az3",
            "cidr_block": "10.20.100.0/24",
            "id": "subnet-007bac7b01e36ca34",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "157151771343",
            "tags": {
              "Name": "CP-TGW-Inbound-1"
            },
            "timeouts": null,
            "vpc_id": "vpc-0ee123db291670666"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "aws_vpc.inbound_vpc",
            "data.aws_availability_zones.azs"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:157151771343:subnet/subnet-0fc164747852b3b71",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "ap-southeast-2b",
            "availability_zone_id": "apse2-az1",
            "cidr_block": "10.20.101.0/24",
            "id": "subnet-0fc164747852b3b71",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "157151771343",
            "tags": {
              "Name": "CP-TGW-Inbound-2"
            },
            "timeouts": null,
            "vpc_id": "vpc-0ee123db291670666"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "aws_vpc.inbound_vpc",
            "data.aws_availability_zones.azs"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:157151771343:subnet/subnet-03818eb6071b274d6",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "ap-southeast-2c",
            "availability_zone_id": "apse2-az2",
            "cidr_block": "10.20.102.0/24",
            "id": "subnet-03818eb6071b274d6",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "157151771343",
            "tags": {
              "Name": "CP-TGW-Inbound-3"
            },
            "timeouts": null,
            "vpc_id": "vpc-0ee123db291670666"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "aws_vpc.inbound_vpc",
            "data.aws_availability_zones.azs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_subnet",
      "name": "management_subnet",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:157151771343:subnet/subnet-09c46ae09bb6f084c",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "ap-southeast-2a",
            "availability_zone_id": "apse2-az3",
            "cidr_block": "10.10.1.0/24",
            "id": "subnet-09c46ae09bb6f084c",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "157151771343",
            "tags": {
              "Name": "CP-TGW-Management"
            },
            "timeouts": null,
            "vpc_id": "vpc-02affff7ae45ed230"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "aws_vpc.management_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_subnet",
      "name": "spoke_1_external_subnet",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:157151771343:subnet/subnet-0f8f43e1235a70c53",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "ap-southeast-2a",
            "availability_zone_id": "apse2-az3",
            "cidr_block": "10.110.100.0/24",
            "id": "subnet-0f8f43e1235a70c53",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "157151771343",
            "tags": {
              "Name": "CP-TGW-Spoke-1-External-1"
            },
            "timeouts": null,
            "vpc_id": "vpc-02708a3331b9aaf1e"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "aws_vpc.spoke_1_vpc",
            "data.aws_availability_zones.azs"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:157151771343:subnet/subnet-0456b45ed9ef12985",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "ap-southeast-2b",
            "availability_zone_id": "apse2-az1",
            "cidr_block": "10.110.101.0/24",
            "id": "subnet-0456b45ed9ef12985",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "157151771343",
            "tags": {
              "Name": "CP-TGW-Spoke-1-External-2"
            },
            "timeouts": null,
            "vpc_id": "vpc-02708a3331b9aaf1e"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "aws_vpc.spoke_1_vpc",
            "data.aws_availability_zones.azs"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:157151771343:subnet/subnet-0009323285a0bcf2c",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "ap-southeast-2c",
            "availability_zone_id": "apse2-az2",
            "cidr_block": "10.110.102.0/24",
            "id": "subnet-0009323285a0bcf2c",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "157151771343",
            "tags": {
              "Name": "CP-TGW-Spoke-1-External-3"
            },
            "timeouts": null,
            "vpc_id": "vpc-02708a3331b9aaf1e"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "aws_vpc.spoke_1_vpc",
            "data.aws_availability_zones.azs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_subnet",
      "name": "spoke_1a_external_subnet",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:157151771343:subnet/subnet-0f1bb02c297e12047",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "ap-southeast-2a",
            "availability_zone_id": "apse2-az3",
            "cidr_block": "10.111.100.0/24",
            "id": "subnet-0f1bb02c297e12047",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "157151771343",
            "tags": {
              "Name": "CP-TGW-Spoke-1a-External-1"
            },
            "timeouts": null,
            "vpc_id": "vpc-0ef232ef82709baf0"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "aws_vpc.spoke_1a_vpc",
            "data.aws_availability_zones.azs"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:157151771343:subnet/subnet-0914677997ab580fd",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "ap-southeast-2b",
            "availability_zone_id": "apse2-az1",
            "cidr_block": "10.111.101.0/24",
            "id": "subnet-0914677997ab580fd",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "157151771343",
            "tags": {
              "Name": "CP-TGW-Spoke-1a-External-2"
            },
            "timeouts": null,
            "vpc_id": "vpc-0ef232ef82709baf0"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "aws_vpc.spoke_1a_vpc",
            "data.aws_availability_zones.azs"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:157151771343:subnet/subnet-01ea68e1d13ae90ac",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "ap-southeast-2c",
            "availability_zone_id": "apse2-az2",
            "cidr_block": "10.111.102.0/24",
            "id": "subnet-01ea68e1d13ae90ac",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "157151771343",
            "tags": {
              "Name": "CP-TGW-Spoke-1a-External-3"
            },
            "timeouts": null,
            "vpc_id": "vpc-0ef232ef82709baf0"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "aws_vpc.spoke_1a_vpc",
            "data.aws_availability_zones.azs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_subnet",
      "name": "spoke_2_external_subnet",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:157151771343:subnet/subnet-0688dbc659250c49c",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "ap-southeast-2b",
            "availability_zone_id": "apse2-az1",
            "cidr_block": "10.120.0.0/16",
            "id": "subnet-0688dbc659250c49c",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "157151771343",
            "tags": {
              "Name": "CP-TGW-Spoke-2-External"
            },
            "timeouts": null,
            "vpc_id": "vpc-016cb676105a6b3e0"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "aws_vpc.spoke_2_vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_vpc",
      "name": "inbound_vpc",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:157151771343:vpc/vpc-0ee123db291670666",
            "assign_generated_ipv6_cidr_block": false,
            "cidr_block": "10.20.0.0/16",
            "default_network_acl_id": "acl-08886174014c2755e",
            "default_route_table_id": "rtb-084e916cfb7633871",
            "default_security_group_id": "sg-04ddf006501ac1e6c",
            "dhcp_options_id": "dopt-0260dc65",
            "enable_classiclink": false,
            "enable_classiclink_dns_support": false,
            "enable_dns_hostnames": true,
            "enable_dns_support": true,
            "id": "vpc-0ee123db291670666",
            "instance_tenancy": "default",
            "ipv6_association_id": "",
            "ipv6_cidr_block": "",
            "main_route_table_id": "rtb-084e916cfb7633871",
            "owner_id": "157151771343",
            "tags": {
              "Name": "CP-TGW-Inbound-VPC"
            }
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_vpc",
      "name": "management_vpc",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:157151771343:vpc/vpc-02affff7ae45ed230",
            "assign_generated_ipv6_cidr_block": false,
            "cidr_block": "10.10.0.0/16",
            "default_network_acl_id": "acl-0caf4d5d469844a61",
            "default_route_table_id": "rtb-062e9135a38cdd468",
            "default_security_group_id": "sg-0abd13bce62d29eca",
            "dhcp_options_id": "dopt-0260dc65",
            "enable_classiclink": false,
            "enable_classiclink_dns_support": false,
            "enable_dns_hostnames": true,
            "enable_dns_support": true,
            "id": "vpc-02affff7ae45ed230",
            "instance_tenancy": "default",
            "ipv6_association_id": "",
            "ipv6_cidr_block": "",
            "main_route_table_id": "rtb-062e9135a38cdd468",
            "owner_id": "157151771343",
            "tags": {
              "Name": "CP-TGW-Management-VPC"
            }
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_vpc",
      "name": "spoke_1_vpc",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:157151771343:vpc/vpc-02708a3331b9aaf1e",
            "assign_generated_ipv6_cidr_block": false,
            "cidr_block": "10.110.0.0/16",
            "default_network_acl_id": "acl-04bce76e9fe48d0c1",
            "default_route_table_id": "rtb-0a6c32a3dc441e11e",
            "default_security_group_id": "sg-07f056c06e4a646db",
            "dhcp_options_id": "dopt-0260dc65",
            "enable_classiclink": false,
            "enable_classiclink_dns_support": false,
            "enable_dns_hostnames": true,
            "enable_dns_support": true,
            "id": "vpc-02708a3331b9aaf1e",
            "instance_tenancy": "default",
            "ipv6_association_id": "",
            "ipv6_cidr_block": "",
            "main_route_table_id": "rtb-0a6c32a3dc441e11e",
            "owner_id": "157151771343",
            "tags": {
              "Name": "CP-TGW-Spoke-1-VPC"
            }
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_vpc",
      "name": "spoke_1a_vpc",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:157151771343:vpc/vpc-0ef232ef82709baf0",
            "assign_generated_ipv6_cidr_block": false,
            "cidr_block": "10.111.0.0/16",
            "default_network_acl_id": "acl-012bac833a746c349",
            "default_route_table_id": "rtb-0f2afc95db913ee28",
            "default_security_group_id": "sg-06f01cc38232f2ddc",
            "dhcp_options_id": "dopt-0260dc65",
            "enable_classiclink": false,
            "enable_classiclink_dns_support": false,
            "enable_dns_hostnames": true,
            "enable_dns_support": true,
            "id": "vpc-0ef232ef82709baf0",
            "instance_tenancy": "default",
            "ipv6_association_id": "",
            "ipv6_cidr_block": "",
            "main_route_table_id": "rtb-0f2afc95db913ee28",
            "owner_id": "157151771343",
            "tags": {
              "Name": "CP-TGW-Spoke-1a-VPC"
            }
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_vpc",
      "name": "spoke_2_vpc",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:157151771343:vpc/vpc-016cb676105a6b3e0",
            "assign_generated_ipv6_cidr_block": false,
            "cidr_block": "10.120.0.0/16",
            "default_network_acl_id": "acl-06472763b5423e2f1",
            "default_route_table_id": "rtb-0dba1467f3a5c9935",
            "default_security_group_id": "sg-01a77c2b4fd845cec",
            "dhcp_options_id": "dopt-0260dc65",
            "enable_classiclink": false,
            "enable_classiclink_dns_support": false,
            "enable_dns_hostnames": true,
            "enable_dns_support": true,
            "id": "vpc-016cb676105a6b3e0",
            "instance_tenancy": "default",
            "ipv6_association_id": "",
            "ipv6_cidr_block": "",
            "main_route_table_id": "rtb-0dba1467f3a5c9935",
            "owner_id": "157151771343",
            "tags": {
              "Name": "CP-TGW-Spoke-2-VPC"
            }
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    }
  ]
}
